diff -au --ignore-file-name-case orig/demo_threadx.c modified/demo_threadx.c
--- orig/demo_threadx.c	2023-11-06 03:51:44.476649600 -0800
+++ modified/demo_threadx.c	2023-11-06 03:51:44.477653200 -0800
@@ -2,12 +2,12 @@
    threads of different priorities, using a message queue, semaphore, mutex, event flags group, 
    byte pool, and block pool.  */
 
-#include "tx_api.h"
+#include   "tx_api.h"
 
-#define DEMO_STACK_SIZE         1024
-#define DEMO_BYTE_POOL_SIZE     9120
-#define DEMO_BLOCK_POOL_SIZE    100
-#define DEMO_QUEUE_SIZE         100
+#define     DEMO_STACK_SIZE         1024
+#define     DEMO_BYTE_POOL_SIZE     9120
+#define     DEMO_BLOCK_POOL_SIZE    100
+#define     DEMO_QUEUE_SIZE         100
 
 
 /* Define the ThreadX object control blocks...  */
@@ -30,16 +30,19 @@
 
 /* Define the counters used in the demo application...  */
 
-ULONG                   thread_0_counter;
-ULONG                   thread_1_counter;
-ULONG                   thread_1_messages_sent;
-ULONG                   thread_2_counter;
-ULONG                   thread_2_messages_received;
-ULONG                   thread_3_counter;
-ULONG                   thread_4_counter;
-ULONG                   thread_5_counter;
-ULONG                   thread_6_counter;
-ULONG                   thread_7_counter;
+ULONG           thread_0_counter;
+ULONG           thread_1_counter;
+ULONG           thread_1_messages_sent;
+ULONG           thread_2_counter;
+ULONG           thread_2_messages_received;
+ULONG           thread_3_counter;
+ULONG           thread_4_counter;
+ULONG           thread_5_counter;
+ULONG           thread_6_counter;
+ULONG           thread_7_counter;
+
+
+UCHAR           memory_pool[DEMO_BYTE_POOL_SIZE];
 
 
 /* Define thread prototypes.  */
@@ -71,7 +74,7 @@
 
 
     /* Create a byte memory pool from which to allocate the thread stacks.  */
-    tx_byte_pool_create(&byte_pool_0, "byte pool 0", first_unused_memory, DEMO_BYTE_POOL_SIZE);
+    tx_byte_pool_create(&byte_pool_0, "byte pool 0", memory_pool, DEMO_BYTE_POOL_SIZE);
 
     /* Put system definition stuff in here, e.g. thread creates and other assorted
        create information.  */
diff -au --ignore-file-name-case orig/tx_api.h modified/tx_api.h
--- orig/tx_api.h	2023-11-06 03:51:44.586041800 -0800
+++ modified/tx_api.h	2023-11-06 03:51:44.586041800 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -151,6 +155,8 @@
 
 /* Define basic constants for the ThreadX kernel.  */
 
+#define TX_LLDB_BRKPT_TRAP 					0x5
+#define TX_LLDB_RESTORE_BRKPT_TRAP 			0x6
 
 /* Define the major/minor version information that can be used by the application 
    and the ThreadX source as well.  */
@@ -438,8 +444,8 @@
     /* Define the thread schedule hook. The usage of this is port/application specific, 
        but when used, the function pointer designated is called whenever the thread is
        scheduled and unscheduled.  */
-    VOID                (*tx_thread_schedule_hook)(struct TX_THREAD_STRUCT *thread_ptr, ULONG id);
-
+    //VOID                (*tx_thread_schedule_hook)(struct TX_THREAD_STRUCT *thread_ptr, ULONG id);
+	VOID 				*tx_stack_info_ptr;
     /* Nothing after this point is referenced by the target-specific
        assembly language.  Hence, information after this point can 
        be added to the control block providing the complete system 
@@ -481,8 +487,7 @@
        is typically defined to whitespace in tx_port.h.  */
     TX_THREAD_EXTENSION_2
 
-    /* Define a pointer type for FileX extensions.  */
-    VOID                *tx_thread_filex_ptr;
+    UINT                tx_lldb_thread_suspend_state;
 
     /* Define the priority inheritance variables. These will be used
        to manage priority inheritance changes applied to this thread 
@@ -557,9 +562,22 @@
        additional fields in the thread control block.  This is 
        defined in the file tx_port.h.  */
     TX_THREAD_USER_EXTENSION
+#ifdef TX_ENABLE_PROFILING
+	unsigned long long tx_profile_curr_tick;    		// timetick when this thread was last scheduled
+	unsigned long long tx_profile_total_run_time;		// total ticks this thread has run since started.this can be manually be reset by profiling_Start APIs
+	unsigned long long tx_profile_base_tick;			// base tick when profiling started on this thread
+#endif
 
 } TX_THREAD;
 
+typedef struct {
+    VOID    *tx_thread_module_kernel_stack_ptr;     
+    VOID    *tx_thread_module_kernel_stack_start;   
+    VOID    *tx_thread_module_kernel_stack_end;     
+    VOID    *tx_thread_module_stack_ptr;            
+    VOID    *tx_thread_module_stack_start;          
+    VOID    *tx_thread_module_stack_end;
+}TX_MODULE_THREAD_STACK_INFO_T;
 
 /* Define the block memory pool structure utilized by the application.  */
 
diff -au --ignore-file-name-case orig/tx_block_pool_info_get.c modified/tx_block_pool_info_get.c
--- orig/tx_block_pool_info_get.c	2023-11-06 03:51:44.477653200 -0800
+++ modified/tx_block_pool_info_get.c	2023-11-06 03:51:44.478656800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block_pool_info_get                             PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -109,10 +109,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_block_pool_info_get(TX_BLOCK_POOL *pool_ptr, CHAR **name, ULONG *available_blocks, 
diff -au --ignore-file-name-case orig/tx_block_pool_initialize.c modified/tx_block_pool_initialize.c
--- orig/tx_block_pool_initialize.c	2023-11-06 03:51:44.478656800 -0800
+++ modified/tx_block_pool_initialize.c	2023-11-06 03:51:44.478656800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -85,7 +85,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block pool_initialize                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -132,10 +132,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_block_pool_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_block_pool_performance_info_get.c modified/tx_block_pool_performance_info_get.c
--- orig/tx_block_pool_performance_info_get.c	2023-11-06 03:51:44.479660400 -0800
+++ modified/tx_block_pool_performance_info_get.c	2023-11-06 03:51:44.479660400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block_pool_performance_info_get                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -114,10 +114,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_block_pool_performance_info_get(TX_BLOCK_POOL *pool_ptr, ULONG *allocates, ULONG *releases,
diff -au --ignore-file-name-case orig/tx_block_pool_performance_system_info_get.c modified/tx_block_pool_performance_system_info_get.c
--- orig/tx_block_pool_performance_system_info_get.c	2023-11-06 03:51:44.479660400 -0800
+++ modified/tx_block_pool_performance_system_info_get.c	2023-11-06 03:51:44.480664000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block_pool_performance_system_info_get          PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -110,10 +110,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_block_pool_performance_system_info_get(ULONG *allocates, ULONG *releases, ULONG *suspensions, ULONG *timeouts)
diff -au --ignore-file-name-case orig/tx_block_pool_prioritize.c modified/tx_block_pool_prioritize.c
--- orig/tx_block_pool_prioritize.c	2023-11-06 03:51:44.480664000 -0800
+++ modified/tx_block_pool_prioritize.c	2023-11-06 03:51:44.481667600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block_pool_prioritize                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -102,10 +102,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_block_pool_prioritize(TX_BLOCK_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/tx_byte_pool_info_get.c modified/tx_byte_pool_info_get.c
--- orig/tx_byte_pool_info_get.c	2023-11-06 03:51:44.481667600 -0800
+++ modified/tx_byte_pool_info_get.c	2023-11-06 03:51:44.481667600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_info_get                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -109,10 +109,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_byte_pool_info_get(TX_BYTE_POOL *pool_ptr, CHAR **name, ULONG *available_bytes, 
diff -au --ignore-file-name-case orig/tx_byte_pool_initialize.c modified/tx_byte_pool_initialize.c
--- orig/tx_byte_pool_initialize.c	2023-11-06 03:51:44.482671200 -0800
+++ modified/tx_byte_pool_initialize.c	2023-11-06 03:51:44.482671200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -100,7 +100,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_initialize                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -147,10 +147,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_byte_pool_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_byte_pool_performance_info_get.c modified/tx_byte_pool_performance_info_get.c
--- orig/tx_byte_pool_performance_info_get.c	2023-11-06 03:51:44.482671200 -0800
+++ modified/tx_byte_pool_performance_info_get.c	2023-11-06 03:51:44.483674800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_performance_info_get                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -122,10 +122,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_byte_pool_performance_info_get(TX_BYTE_POOL *pool_ptr, ULONG *allocates, ULONG *releases,
diff -au --ignore-file-name-case orig/tx_byte_pool_performance_system_info_get.c modified/tx_byte_pool_performance_system_info_get.c
--- orig/tx_byte_pool_performance_system_info_get.c	2023-11-06 03:51:44.483674800 -0800
+++ modified/tx_byte_pool_performance_system_info_get.c	2023-11-06 03:51:44.483674800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_performance_system_info_get           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -118,10 +118,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_byte_pool_performance_system_info_get(ULONG *allocates, ULONG *releases,
diff -au --ignore-file-name-case orig/tx_byte_pool_prioritize.c modified/tx_byte_pool_prioritize.c
--- orig/tx_byte_pool_prioritize.c	2023-11-06 03:51:44.484678400 -0800
+++ modified/tx_byte_pool_prioritize.c	2023-11-06 03:51:44.484678400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_prioritize                           PORTABLE C       */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -102,10 +102,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_byte_pool_prioritize(TX_BYTE_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/tx_event_flags_create.c modified/tx_event_flags_create.c
--- orig/tx_event_flags_create.c	2023-11-06 03:51:44.485682000 -0800
+++ modified/tx_event_flags_create.c	2023-11-06 03:51:44.485682000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_event_flags_create                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_event_flags_create(TX_EVENT_FLAGS_GROUP *group_ptr, CHAR *name_ptr)
diff -au --ignore-file-name-case orig/tx_event_flags_get.c modified/tx_event_flags_get.c
--- orig/tx_event_flags_get.c	2023-11-06 03:51:44.485682000 -0800
+++ modified/tx_event_flags_get.c	2023-11-06 03:51:44.486685600 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -149,6 +153,7 @@
 #ifndef TX_NOT_INTERRUPTABLE
 UINT            interrupted_set_request;
 #endif
+UINT			isDefTimer = 0;
 
 
     /* Disable interrupts to examine the event flags group.  */
@@ -163,6 +168,10 @@
     group_ptr -> tx_event_flags_group__performance_get_count++;
 #endif
 
+	if((wait_option != TX_WAIT_FOREVER) && (wait_option & TX_DEFERABLE_TIMER) ){
+		isDefTimer = 1;
+		wait_option = wait_option & ((ULONG)(~TX_DEFERABLE_TIMER)) ; 
+	}
     /* If trace is enabled, insert this event into the trace buffer.  */
     TX_TRACE_IN_LINE_INSERT(TX_TRACE_EVENT_FLAGS_GET, group_ptr, requested_flags, group_ptr -> tx_event_flags_group_current, get_option, TX_TRACE_EVENT_FLAGS_EVENTS)
 
@@ -419,8 +428,12 @@
                 /* Setup the timeout period.  */
                 thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  wait_option;
 
-                /* Temporarily disable preemption.  */
-                _tx_thread_preempt_disable++;
+			if(isDefTimer){
+				thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+			}
+
+            /* Temporarily disable preemption.  */
+            _tx_thread_preempt_disable++;
 
                 /* Restore interrupts.  */
                 TX_RESTORE
diff -au --ignore-file-name-case orig/tx_event_flags_info_get.c modified/tx_event_flags_info_get.c
--- orig/tx_event_flags_info_get.c	2023-11-06 03:51:44.486685600 -0800
+++ modified/tx_event_flags_info_get.c	2023-11-06 03:51:44.486685600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_event_flags_info_get                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -114,10 +114,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_event_flags_info_get(TX_EVENT_FLAGS_GROUP *group_ptr, CHAR **name, ULONG *current_flags, 
diff -au --ignore-file-name-case orig/tx_event_flags_initialize.c modified/tx_event_flags_initialize.c
--- orig/tx_event_flags_initialize.c	2023-11-06 03:51:44.487689200 -0800
+++ modified/tx_event_flags_initialize.c	2023-11-06 03:51:44.487689200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -86,7 +86,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_event_flags_initialize                          PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -133,10 +133,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_event_flags_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_event_flags_performance_info_get.c modified/tx_event_flags_performance_info_get.c
--- orig/tx_event_flags_performance_info_get.c	2023-11-06 03:51:44.487689200 -0800
+++ modified/tx_event_flags_performance_info_get.c	2023-11-06 03:51:44.488692800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_event_flags_performance_info_get                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -115,10 +115,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_event_flags_performance_info_get(TX_EVENT_FLAGS_GROUP *group_ptr, ULONG *sets, ULONG *gets,
diff -au --ignore-file-name-case orig/tx_event_flags_performance_system_info_get.c modified/tx_event_flags_performance_system_info_get.c
--- orig/tx_event_flags_performance_system_info_get.c	2023-11-06 03:51:44.488692800 -0800
+++ modified/tx_event_flags_performance_system_info_get.c	2023-11-06 03:51:44.488692800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_event_flags_performance_system_info_get         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_event_flags_performance_system_info_get(ULONG *sets, ULONG *gets, ULONG *suspensions, ULONG *timeouts)
diff -au --ignore-file-name-case orig/tx_initialize_high_level.c modified/tx_initialize_high_level.c
--- orig/tx_initialize_high_level.c	2023-11-06 03:51:44.489696400 -0800
+++ modified/tx_initialize_high_level.c	2023-11-06 03:51:44.489696400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -69,7 +69,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_initialize_high_level                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -138,10 +138,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID    _tx_initialize_high_level(VOID)
diff -au --ignore-file-name-case orig/tx_initialize_kernel_setup.c modified/tx_initialize_kernel_setup.c
--- orig/tx_initialize_kernel_setup.c	2023-11-06 03:51:44.489696400 -0800
+++ modified/tx_initialize_kernel_setup.c	2023-11-06 03:51:44.490700000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_initialize_kernel_setup                         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -99,10 +99,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_initialize_kernel_setup(VOID)
diff -au --ignore-file-name-case orig/tx_initialize_low_level.s modified/tx_initialize_low_level.S
--- orig/tx_initialize_low_level.s	2023-11-06 03:51:44.490700000 -0800
+++ modified/tx_initialize_low_level.S	2023-11-06 03:51:44.491703600 -0800
@@ -30,6 +30,10 @@
 ;/**   Initialize                                                          */
 ;/**                                                                       */
 ;/**************************************************************************/
+;============================================================================
+
+    PRESERVE8
+;============================================================================
 ;/**************************************************************************/
 ;
 ;
@@ -42,85 +46,58 @@
 ;#include "tx_initialize.h"
 ;#include "tx_thread.h"
 ;#include "tx_timer.h"
+#include "tx_internal.h"
 ;
 ;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
-DISABLE_INTS    EQU     0xC0                    ; Disable IRQ & FIQ interrupts
-FIQ_MODE        EQU     0xD1                    ; FIQ mode
-IRQ_MODE        EQU     0xD2                    ; IRQ mode
-SVC_MODE        EQU     0xD3                    ; SVC mode
-SYS_MODE        EQU     0xDF                    ; SYS mode
-    ELSE
-DISABLE_INTS    EQU     0x80                    ; Disable IRQ interrupts
-FIQ_MODE        EQU     0x91                    ; FIQ mode
-IRQ_MODE        EQU     0x92                    ; IRQ mode
-SVC_MODE        EQU     0x93                    ; SVC mode
-SYS_MODE        EQU     0x9F                    ; SYS mode
-    ENDIF
-HEAP_SIZE       EQU     4096                    ; Heap size
-FIQ_STACK_SIZE  EQU     512                     ; FIQ stack size
-SYS_STACK_SIZE  EQU     1024                    ; SYS stack size (used for nested interrupts)
-IRQ_STACK_SIZE  EQU     1024                    ; IRQ stack size
-
-VFPEnable       EQU     0x40000000              ; VFP enable value
 
 ;
 ;
+
+#define GICC_IAR             0x0B00200C
+#define GICC_EOIR            0x0B002010 
+#define GICD_ICENABLER       0x0B000180
+#define GICD_ISENABLER       0x0B000100
+
+
+
+#define GICC_IAR_CPU_ID_BMSK    0x1c00
+#define GICC_IAR_CPU_ID_SHFT    0xa
+#define GICC_IAR_INT_ID_BMSK    0x3ff
+#define GICC_IAR_INT_ID_SHFT    0
+
+
+    IMPORT      qurt_interrupt_default_irq_handler
     IMPORT      _tx_thread_system_stack_ptr
     IMPORT      _tx_initialize_unused_memory
     IMPORT      _tx_thread_context_save
     IMPORT      _tx_thread_context_restore
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef TX_ENABLE_FIQ_SUPPORT
     IMPORT      _tx_thread_fiq_context_save
     IMPORT      _tx_thread_fiq_context_restore
-    ENDIF
-    IF  :DEF:TX_ENABLE_IRQ_NESTING
+#endif
+#ifdef 	TX_ENABLE_IRQ_NESTING
     IMPORT      _tx_thread_irq_nesting_start
     IMPORT      _tx_thread_irq_nesting_end
-    ENDIF
-    IF  :DEF:TX_ENABLE_FIQ_NESTING
+#endif
+#ifdef	TX_ENABLE_FIQ_NESTING
     IMPORT      _tx_thread_fiq_nesting_start
     IMPORT      _tx_thread_fiq_nesting_end
-    ENDIF
+#endif
     IMPORT      _tx_timer_interrupt
     IMPORT      __main
     IMPORT      _tx_version_id
     IMPORT      _tx_build_options
-    IMPORT      |Image$$ZI$$Limit|
-;
-;
+	IMPORT      |Image$$ZI_REGION$$Limit|
+;	
+	EXPORT  __tx_free_memory_start
+    AREA ||.data||
+__tx_free_memory_start
+    DCD    4
+
         AREA  Init, CODE, READONLY
 ;
 ;/* Define the default Cortex-A7 vector area.  This should be located or copied to 0.  */
 ;
-    EXPORT  __vectors
-__vectors
-    LDR     pc,=Reset_Vector                    ; Reset goes to startup function
-    LDR     pc,=__tx_undefined                  ; Undefined handler
-    LDR     pc,=__tx_swi_interrupt              ; Software interrupt handler
-    LDR     pc,=__tx_prefetch_handler           ; Prefetch exception handler
-    LDR     pc,=__tx_abort_handler              ; Abort exception handler
-    LDR     pc,=__tx_reserved_handler           ; Reserved exception handler
-    LDR     pc,=__tx_irq_handler                ; IRQ interrupt handler
-    LDR     pc,=__tx_fiq_handler                ; FIQ interrupt handler
-;
-;
-        EXPORT  Reset_Vector
-Reset_Vector
-
-    IF  {TARGET_FPU_VFP} = {TRUE}
-    MRC     p15, 0, r1, c1, c0, 2               ; r1 = Access Control Register
-    ORR     r1, r1, #(0xf << 20)                ; Enable full access for p10,11
-    MCR     p15, 0, r1, c1, c0, 2               ; Access Control Register = r1
-    MOV     r1, #0
-    MCR     p15, 0, r1, c7, c5, 4               ; Flush prefetch buffer because of FMXR below and
-                                                ; CP 10 & 11 were only just enabled
-    MOV     r0, #VFPEnable                      ; Enable VFP itself
-    FMXR    FPEXC, r0                           ; FPEXC = r0
-    ENDIF
-
-    B       __main
-;
 ;
         AREA ||.text||, CODE, READONLY
 ;/**************************************************************************/ 
@@ -174,54 +151,20 @@
 _tx_initialize_low_level
 ;
 ;
-;    /****** NOTE ****** We must be in SVC MODE at this point.  Some monitors
-;       enter this routine in USER mode and require a software interrupt to
-;       change into SVC mode.  */
-;
-    LDR     r1, =|Image$$ZI$$Limit|             ; Get end of non-initialized RAM area
-    LDR     r2, =HEAP_SIZE                      ; Pickup the heap size
-    ADD     r1, r2, r1                          ; Setup heap limit
-    ADD     r1, r1, #4                          ; Setup stack limit
-;
-    IF :DEF:TX_ENABLE_IRQ_NESTING
-;    /* Setup the system mode stack for nested interrupt support  */
-    LDR     r2, =SYS_STACK_SIZE                 ; Pickup stack size
-    MOV     r3, #SYS_MODE                       ; Build SYS mode CPSR
-    MSR     CPSR_c, r3                          ; Enter SYS mode
-    ADD     r1, r1, r2                          ; Calculate start of SYS stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    MOV     sp, r1                              ; Setup SYS stack pointer
-    ENDIF
-;
-    LDR     r2, =FIQ_STACK_SIZE                 ; Pickup stack size
-    MOV     r0, #FIQ_MODE                       ; Build FIQ mode CPSR
-    MSR     CPSR_c, r0                          ; Enter FIQ mode
-    ADD     r1, r1, r2                          ; Calculate start of FIQ stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    MOV     sp, r1                              ; Setup FIQ stack pointer
-    MOV     sl, #0                              ; Clear sl
-    MOV     fp, #0                              ; Clear fp
-    LDR     r2, =IRQ_STACK_SIZE                 ; Pickup IRQ (system stack size)
-    MOV     r0, #IRQ_MODE                       ; Build IRQ mode CPSR
-    MSR     CPSR_c, r0                          ; Enter IRQ mode
-    ADD     r1, r1, r2                          ; Calculate start of IRQ stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    MOV     sp, r1                              ; Setup IRQ stack pointer
-    MOV     r0, #SVC_MODE                       ; Build SVC mode CPSR
-    MSR     CPSR_c, r0                          ; Enter SVC mode
-    LDR     r3, =_tx_thread_system_stack_ptr    ; Pickup stack pointer
-    STR     r1, [r3, #0]                        ; Save the system stack
-;
-;    /* Save the system stack pointer.  */
-;    _tx_thread_system_stack_ptr = (VOID_PTR) (sp);
-;
-    LDR     r1, =_tx_thread_system_stack_ptr    ; Pickup address of system stack ptr
-    LDR     r0, [r1, #0]                        ; Pickup system stack 
-    ADD     r0, r0, #4                          ; Increment to next free word
+;    /* Remember the stack pointer, link register, and switch to SVC mode.  */
+;
+    MOV     r0, sp                             ; Remember the SP
+    MOV     r1, lr                              ; Remember the LR
+    MOV     r3, #SVC_MODE             ; Build SVC mode CPSR
+    MSR     CPSR_cxsf, r3                 ; Switch to SVC mode
+    MOV     sp, r0                              ; Inherit the stack pointer setup by cstartup
+    MOV     lr, r1                              ; Inherit the link register
+
 ;
 ;    /* Save the first available memory address.  */
-;    _tx_initialize_unused_memory =  (VOID_PTR) |Image$$ZI$$Limit| + HEAP + [SYS_STACK] + FIQ_STACK + IRQ_STACK;
+;    _tx_initialize_unused_memory =  (VOID_PTR) |Image$$ZI_REGION$$Limit| + HEAP + [SYS_STACK] + FIQ_STACK + IRQ_STACK;
 ;
+	LDR     r0, =__tx_free_memory_start         ; Get end of non-initialized RAM area		;INTEGRATE_ADDED
     LDR     r2, =_tx_initialize_unused_memory   ; Pickup unused memory ptr address
     STR     r0, [r2, #0]                        ; Save first free memory address
 ;
@@ -229,52 +172,27 @@
 ;
 ;    /* Done, return to caller.  */
 ;
-    IF  {INTER} = {TRUE}
+;    IF  {INTER} = {TRUE}
     BX      lr                                  ; Return to caller
-    ELSE
-    MOV     pc, lr                              ; Return to caller
-    ENDIF
+;    ELSE
+;    MOV     pc, lr                              ; Return to caller
+;    ENDIF
 ;}
 ;
-;
-;/* Define initial heap/stack routine for the ARM RealView (and ADS) startup code.  This
-;   routine will set the initial stack to use the ThreadX IRQ & FIQ & 
-;   (optionally SYS) stack areas.  */
-;
-    EXPORT  __user_initial_stackheap
-__user_initial_stackheap
-    LDR     r0, =|Image$$ZI$$Limit|             ; Get end of non-initialized RAM area
-    LDR     r2, =HEAP_SIZE                      ; Pickup the heap size
-    ADD     r2, r2, r0                          ; Setup heap limit
-    ADD     r3, r2, #4                          ; Setup stack limit
-    MOV     r1, r3                              ; Setup start of stack
-    IF :DEF:TX_ENABLE_IRQ_NESTING
-    LDR     r12, =SYS_STACK_SIZE                ; Pickup IRQ system stack
-    ADD     r1, r1, r12                         ; Setup the return system stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    ENDIF
-    LDR     r12, =FIQ_STACK_SIZE                ; Pickup FIQ stack size
-    ADD     r1, r1, r12                         ; Setup the return system stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    LDR     r12, =IRQ_STACK_SIZE                ; Pickup IRQ system stack
-    ADD     r1, r1, r12                         ; Setup the return system stack
-    BIC     r1, r1, #7                          ; Ensure 8-byte alignment
-    IF  {INTER} = {TRUE}
-    BX      lr                                  ; Return to caller
-    ELSE
-    MOV     pc, lr                              ; Return to caller
-    ENDIF
-;
-;
+
 ;/* Define shells for each of the interrupt vectors.  */
 ;
     EXPORT  __tx_undefined
 __tx_undefined
     B       __tx_undefined                      ; Undefined handler
 ;
+#ifdef TX3_CHANGES
+	;__tx_swi_interrupt defined in tx_thread_schedule
+#else
     EXPORT  __tx_swi_interrupt
 __tx_swi_interrupt
     B       __tx_swi_interrupt                  ; Software interrupt handler
+#endif
 ;
     EXPORT  __tx_prefetch_handler
 __tx_prefetch_handler
@@ -291,11 +209,53 @@
 ;
     EXPORT  __tx_irq_handler
     EXPORT  __tx_irq_processing_return      
+
+;/**********************************
+;  Kernel IRQ Handler
+;**********************************/
 __tx_irq_handler
 ;
 ;    /* Jump to context save to save system context.  */
     B       _tx_thread_context_save
 __tx_irq_processing_return
+
+; r0 contains offset for ICENABLER/ISENABLER pushed/popped from stack
+; r1 contains Interrupt Number read from IAR pushed/popped from stack
+; r2 contains CPU ID read from IAR pushed/popped from stack
+
+; /* Read the Interrupt Number from GICC */
+
+
+      ldr    r0, =GICC_IAR
+      
+      ldr    r1, [r0]                           ; Read Interrupt Acknowledge Register
+      
+      and    r2, r1, #GICC_IAR_CPU_ID_BMSK      ; Get CPU ID from IAR
+
+      ldr    r0, = 0x3ff
+      
+      and   r1, r1,  r0                         ; Get Interrupt ID
+
+ ;  /*Mask the interrupt in GICD_ICENABLER register */
+
+      ldr   r3, =GICD_ICENABLER                 ; Get the Base
+                                                    
+      lsr   r0, r1, #0x5                        ; Get the offset
+                                                    
+      lsl   r0, r0, #0x2                        ; multiply offset with 4 bytes per word
+                                                    
+      add   r3,r3,r0                            ; Get GICC_ICENABLER register for corresponding Interrupt
+
+      STMDB sp!, {r0-r2}                        ; Save r0(offset) r1(INT ID) and r2(CPU ID)  registers to stack
+
+      and   r0, r1 , #0x1F                      ; Prepare to the IRQ bit location in the register to mask   
+
+      mov   r2, #0x1
+
+      lsl   r2, r2, r0                          ; Prepare bit position of the IRQ in GCC_ICENABLER Register
+
+      str   r2, [r3]                            ; Write the Interrupt mask in GICC_ICENABLER to mask the IRQ
+      
 ;
 ;    /* At this point execution is still in the IRQ mode.  The CPSR, point of
 ;       interrupt, and all C scratch registers are available for use.  In 
@@ -304,32 +264,70 @@
 ;       small code sequences where lr is saved before enabling interrupts and 
 ;       restored after interrupts are again disabled.  */
 ;
-;
-    BL      _tx_timer_interrupt                 ; Timer interrupt handler
-_tx_not_timer_interrupt
-;
 ;    /* Interrupt nesting is allowed after calling _tx_thread_irq_nesting_start 
 ;       from IRQ mode with interrupts disabled.  This routine switches to the
 ;       system mode and returns with IRQ interrupts enabled.  
 ;       
 ;       NOTE:  It is very important to ensure all IRQ interrupts are cleared 
 ;       prior to enabling nested IRQ interrupts.  */
-    IF :DEF:TX_ENABLE_IRQ_NESTING
+#ifdef	TX_ENABLE_IRQ_NESTING
     BL      _tx_thread_irq_nesting_start
-    ENDIF
+#endif
+;
+;    /* For debug purpose, execute the timer interrupt processing here.  In
+;       a real system, some kind of status indication would have to be checked
+;       before the timer interrupt handler could be called.  */
 ;
+
+  
+    mov   r0, r1                                ; Move IRQ number to R0 as arguement to default IRQ handler
+
+    BL     qurt_interrupt_default_irq_handler   ;  Invoke Default IRQ Handler
 ;
 ;    /* Application IRQ handlers can be called here!  */
 ;
 ;    /* If interrupt nesting was started earlier, the end of interrupt nesting
 ;       service must be called before returning to _tx_thread_context_restore.  
 ;       This routine returns in processing in IRQ mode with interrupts disabled.  */
-    IF :DEF:TX_ENABLE_IRQ_NESTING
+#ifdef	TX_ENABLE_IRQ_NESTING
     BL      _tx_thread_irq_nesting_end
-    ENDIF
+#endif
+
+     LDMIA   sp!, {r0-r2}                       ; Recover r0, r1,r2 registers from stack
+
+; /* Mark EOI for the IRQ  in GICC */
+
+      orr   r2, r1, r2                          ; Calculate word to write into EOIR including CPU ID and IRQ
+
+      ldr   r3, =GICC_EOIR
+      
+      str   r2, [r3]                            ; Write the word to GICC_EOIR register to mark end of interrupt
+
+
+ ;    /*Unmask  the interrupt in GICD_ISENABLER register */
+
+      ldr   r3, =GICD_ISENABLER
+
+      add   r3,r3,r0                             ; Get GICC_ISENABLER register for corresponding Interrupt
+
+      and   r2, r1 , #0x1F                       ; Prepare to the IRQ bit location in the register to mask
+
+      mov   r0, #0x1
+
+      lsl   r0, r0, r2
+
+      str   r0, [r3]                            ; Write the Interrupt Enable mask in GICC_ISENABLER
+      
+
+
 ;
 ;    /* Jump to context restore to restore system context.  */
     B       _tx_thread_context_restore
+
+;/**************************************
+; End of Kernel IRQ Handler
+;**************************************/
+
 ;
 ;
 ;    /* This is an example of a vectored IRQ handler.  */
@@ -378,7 +376,7 @@
 ;    B       _tx_thread_context_restore
 ;
 ;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef TX_ENABLE_FIQ_SUPPORT
     EXPORT  __tx_fiq_handler
     EXPORT  __tx_fiq_processing_return
 __tx_fiq_handler
@@ -396,27 +394,29 @@
 ;
 ;       NOTE:  It is very important to ensure all FIQ interrupts are cleared 
 ;       prior to enabling nested FIQ interrupts.  */
-    IF  :DEF:TX_ENABLE_FIQ_NESTING
+#ifdef TX_ENABLE_FIQ_NESTING
     BL      _tx_thread_fiq_nesting_start
-    ENDIF
+#endif
 ;
 ;    /* Application FIQ handlers can be called here!  */
 ;
 ;    /* If interrupt nesting was started earlier, the end of interrupt nesting
 ;       service must be called before returning to _tx_thread_fiq_context_restore.  */
-    IF  :DEF:TX_ENABLE_FIQ_NESTING
+#ifdef TX_ENABLE_FIQ_NESTING
     BL      _tx_thread_fiq_nesting_end
-    ENDIF
+#endif
 ;
 ;    /* Jump to fiq context restore to restore system context.  */
     B       _tx_thread_fiq_context_restore
 ;
 ;
-    ELSE
+#else
+
     EXPORT  __tx_fiq_handler
 __tx_fiq_handler
     B       __tx_fiq_handler                    ; FIQ interrupt handler
-    ENDIF
+#endif
+    
 ;
 ;    /* Reference build options and version ID to ensure they come in.  */
 ;
diff -au --ignore-file-name-case orig/tx_mutex_create.c modified/tx_mutex_create.c
--- orig/tx_mutex_create.c	2023-11-06 03:51:44.491703600 -0800
+++ modified/tx_mutex_create.c	2023-11-06 03:51:44.491703600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_create                                    PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_mutex_create(TX_MUTEX *mutex_ptr, CHAR *name_ptr, UINT inherit)
diff -au --ignore-file-name-case orig/tx_mutex_get.c modified/tx_mutex_get.c
--- orig/tx_mutex_get.c	2023-11-06 03:51:44.492707200 -0800
+++ modified/tx_mutex_get.c	2023-11-06 03:51:44.492707200 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -149,6 +153,7 @@
 TX_THREAD       *next_thread;
 TX_THREAD       *previous_thread;
 UINT            status;
+UINT			isDefTimer = 0;
 
 
     /* Disable interrupts to get an instance from the mutex.  */
@@ -163,6 +168,11 @@
     mutex_ptr -> tx_mutex_performance_get_count++;
 #endif
 
+	if((wait_option != TX_WAIT_FOREVER) && (wait_option & TX_DEFERABLE_TIMER) ){
+		isDefTimer = 1;
+		wait_option = wait_option & ((ULONG)(~TX_DEFERABLE_TIMER)) ; 
+	}
+
     /* If trace is enabled, insert this event into the trace buffer.  */
     TX_TRACE_IN_LINE_INSERT(TX_TRACE_MUTEX_GET, mutex_ptr, wait_option, TX_POINTER_TO_ULONG_CONVERT(mutex_ptr -> tx_mutex_owner), mutex_ptr -> tx_mutex_ownership_count, TX_TRACE_MUTEX_EVENTS)
 
@@ -403,6 +413,9 @@
 
                 /* Setup the timeout period.  */
                 thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  wait_option;
+			if(isDefTimer == 1){
+				thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+			}
 
                 /* Temporarily disable preemption.  */
                 _tx_thread_preempt_disable++;
diff -au --ignore-file-name-case orig/tx_mutex_info_get.c modified/tx_mutex_info_get.c
--- orig/tx_mutex_info_get.c	2023-11-06 03:51:44.492707200 -0800
+++ modified/tx_mutex_info_get.c	2023-11-06 03:51:44.493710800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_info_get                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -110,10 +110,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_mutex_info_get(TX_MUTEX *mutex_ptr, CHAR **name, ULONG *count, TX_THREAD **owner,
diff -au --ignore-file-name-case orig/tx_mutex_initialize.c modified/tx_mutex_initialize.c
--- orig/tx_mutex_initialize.c	2023-11-06 03:51:44.493710800 -0800
+++ modified/tx_mutex_initialize.c	2023-11-06 03:51:44.493710800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -95,7 +95,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_initialize                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -142,10 +142,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_mutex_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_mutex_performance_info_get.c modified/tx_mutex_performance_info_get.c
--- orig/tx_mutex_performance_info_get.c	2023-11-06 03:51:44.494714400 -0800
+++ modified/tx_mutex_performance_info_get.c	2023-11-06 03:51:44.494714400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_performance_info_get                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -117,10 +117,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_mutex_performance_info_get(TX_MUTEX *mutex_ptr, ULONG *puts, ULONG *gets,
diff -au --ignore-file-name-case orig/tx_mutex_performance_system_info_get.c modified/tx_mutex_performance_system_info_get.c
--- orig/tx_mutex_performance_system_info_get.c	2023-11-06 03:51:44.494714400 -0800
+++ modified/tx_mutex_performance_system_info_get.c	2023-11-06 03:51:44.495718000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_performance_system_info_get               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -115,10 +115,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_mutex_performance_system_info_get(ULONG *puts, ULONG *gets, ULONG *suspensions, 
diff -au --ignore-file-name-case orig/tx_port.h modified/tx_port.h
--- orig/tx_port.h	2023-11-06 03:51:44.586041800 -0800
+++ modified/tx_port.h	2023-11-06 03:51:44.587045400 -0800
@@ -109,11 +109,34 @@
 typedef unsigned short                          USHORT;
 
 
+/* QC specific defines */
+#ifndef TX_ENABLE_IRQ_NESTING
+#define TX_ENABLE_IRQ_NESTING
+#endif 
+
+#ifndef TX_ENABLE_PROFILING
+#define TX_ENABLE_PROFILING
+#endif 
+
+#ifndef TX_DISABLE_NOTIFY_CALLBACKS
+#define TX_DISABLE_NOTIFY_CALLBACKS
+#endif 
+
+#ifndef MAX_TLS
+#define MAX_TLS 16
+#endif
+
+#ifndef TX_THREAD_USER_EXTENSION
+#define TX_THREAD_USER_EXTENSION \
+		  void * tls[MAX_TLS];
+#endif
+/* End - QC specific defines */
+
 /* Define the priority levels for ThreadX.  Legal values range
    from 32 to 1024 and MUST be evenly divisible by 32.  */
 
 #ifndef TX_MAX_PRIORITIES
-#define TX_MAX_PRIORITIES                       32
+#define TX_MAX_PRIORITIES                       256
 #endif
 
 
@@ -156,6 +179,11 @@
 
 */
 
+#define TX_TRACE_TIME_SOURCE                    *((ULONG *) 0x0b021000)
+#define TX_TRACE_TIME_SOURCE_HIGH               *((ULONG *) 0x0b021004)
+
+#define TX_TRACE_TIME_MASK                      0xFFFFFFFFUL
+
 #ifndef TX_TRACE_TIME_SOURCE
 #define TX_TRACE_TIME_SOURCE                    ++_tx_trace_simulated_time
 #endif
@@ -205,26 +233,49 @@
 #undef TX_DISABLE_STACK_FILLING
 #endif
 
-
+#ifndef TX_DEFERABLE_TIMER
+#define TX_DEFERABLE_TIMER				((UINT) 0x80000000)
+#endif
 /* Define the TX_THREAD control block extensions for this port. The main reason
    for the multiple macros is so that backward compatibility can be maintained with 
    existing ThreadX kernel awareness modules.  */
 
 #define TX_THREAD_EXTENSION_0          
 #define TX_THREAD_EXTENSION_1                  
-#define TX_THREAD_EXTENSION_2                  ULONG       tx_thread_vfp_enable;
+#define TX_THREAD_EXTENSION_2                   ULONG   tx_thread_vfp_enable;                   \
+                                                VOID    *tx_thread_module_instance_ptr;         \
+                                                VOID    *tx_thread_module_entry_info_ptr;       \
+                                                ULONG   tx_thread_module_current_user_mode;     \
+                                                ULONG   tx_thread_module_user_mode;             \
+                                                VOID    *tx_thread_module_kernel_stack_start;   \
+                                                VOID    *tx_thread_module_kernel_stack_end;     \
+                                                ULONG   tx_thread_module_kernel_stack_size;     \
+                                                VOID    *tx_thread_module_stack_ptr;            \
+                                                VOID    *tx_thread_module_stack_start;          \
+                                                VOID    *tx_thread_module_stack_end;            \
+                                                ULONG   tx_thread_module_stack_size;            \
+                                                VOID    *tx_thread_module_reserved;                                      
+
+
 #define TX_THREAD_EXTENSION_3          
+#define TX_EVENT_FLAGS_GROUP_EXTENSION          VOID    *tx_event_flags_group_module_instance; \
+                                                VOID   (*tx_event_flags_group_set_module_notify)(struct TX_EVENT_FLAGS_GROUP_STRUCT *group_ptr);
+
+#define TX_QUEUE_EXTENSION                      VOID    *tx_queue_module_instance; \
+                                                VOID   (*tx_queue_send_module_notify)(struct TX_QUEUE_STRUCT *queue_ptr);
 
+#define TX_SEMAPHORE_EXTENSION                  VOID    *tx_semaphore_module_instance; \
+                                                VOID   (*tx_semaphore_put_module_notify)(struct TX_SEMAPHORE_STRUCT *semaphore_ptr);
+
+#define TX_TIMER_EXTENSION                      VOID    *tx_timer_module_instance; \
+                                                VOID   (*tx_timer_module_expiration_function)(ULONG id);
 
 /* Define the port extensions of the remaining ThreadX objects.  */
 
 #define TX_BLOCK_POOL_EXTENSION
 #define TX_BYTE_POOL_EXTENSION
-#define TX_EVENT_FLAGS_GROUP_EXTENSION
 #define TX_MUTEX_EXTENSION
-#define TX_QUEUE_EXTENSION
-#define TX_SEMAPHORE_EXTENSION
-#define TX_TIMER_EXTENSION
+
 
 
 /* Define the user extension field of the thread control block.  Nothing 
@@ -271,7 +322,7 @@
    architectures v5 and above. If available, redefine the macro for calculating the 
    lowest bit set.  */
 
-#ifndef __thumb
+#ifdef __thumb
    
 #define TX_LOWEST_SET_BIT_CALCULATE(m, b)       m = m & ((ULONG) (-((LONG) m))); \
                                                 b = (ULONG) __clz((unsigned int) m); \
@@ -286,7 +337,7 @@
    is used to define a local function save area for the disable and restore
    macros.  */
 
-#ifndef __thumb
+#ifdef __thumb
 
 #define TX_INTERRUPT_SAVE_AREA                  register unsigned int interrupt_save_disabled;
 
diff -au --ignore-file-name-case orig/tx_queue_flush.c modified/tx_queue_flush.c
--- orig/tx_queue_flush.c	2023-11-06 03:51:44.495718000 -0800
+++ modified/tx_queue_flush.c	2023-11-06 03:51:44.496721600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_flush                                     PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -110,10 +110,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_queue_flush(TX_QUEUE *queue_ptr)
diff -au --ignore-file-name-case orig/tx_queue_info_get.c modified/tx_queue_info_get.c
--- orig/tx_queue_info_get.c	2023-11-06 03:51:44.496721600 -0800
+++ modified/tx_queue_info_get.c	2023-11-06 03:51:44.496721600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_info_get                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_queue_info_get(TX_QUEUE *queue_ptr, CHAR **name, ULONG *enqueued, ULONG *available_storage,
diff -au --ignore-file-name-case orig/tx_queue_initialize.c modified/tx_queue_initialize.c
--- orig/tx_queue_initialize.c	2023-11-06 03:51:44.497725200 -0800
+++ modified/tx_queue_initialize.c	2023-11-06 03:51:44.497725200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -93,7 +93,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_initialize                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -140,10 +140,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_queue_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_queue_performance_info_get.c modified/tx_queue_performance_info_get.c
--- orig/tx_queue_performance_info_get.c	2023-11-06 03:51:44.497725200 -0800
+++ modified/tx_queue_performance_info_get.c	2023-11-06 03:51:44.498728800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_performance_info_get                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -116,10 +116,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_queue_performance_info_get(TX_QUEUE *queue_ptr, ULONG *messages_sent, ULONG *messages_received,
diff -au --ignore-file-name-case orig/tx_queue_performance_system_info_get.c modified/tx_queue_performance_system_info_get.c
--- orig/tx_queue_performance_system_info_get.c	2023-11-06 03:51:44.498728800 -0800
+++ modified/tx_queue_performance_system_info_get.c	2023-11-06 03:51:44.499732400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_performance_system_info_get               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -115,10 +115,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_queue_performance_system_info_get(ULONG *messages_sent, ULONG *messages_received,
diff -au --ignore-file-name-case orig/tx_queue_prioritize.c modified/tx_queue_prioritize.c
--- orig/tx_queue_prioritize.c	2023-11-06 03:51:44.499732400 -0800
+++ modified/tx_queue_prioritize.c	2023-11-06 03:51:44.499732400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_queue_prioritize                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -102,10 +102,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_queue_prioritize(TX_QUEUE *queue_ptr)
diff -au --ignore-file-name-case orig/tx_queue_receive.c modified/tx_queue_receive.c
--- orig/tx_queue_receive.c	2023-11-06 03:51:44.500736000 -0800
+++ modified/tx_queue_receive.c	2023-11-06 03:51:44.500736000 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -153,6 +157,7 @@
 UINT            suspended_count;
 TX_THREAD       *next_thread;
 TX_THREAD       *previous_thread;
+UINT 			isDefTimer = 0;
 UINT            status;
 
 
@@ -161,6 +166,12 @@
 
     /* Disable interrupts to receive message from queue.  */
     TX_DISABLE
+	
+	if( (wait_option != TX_WAIT_FOREVER) && (wait_option & TX_DEFERABLE_TIMER)){
+		isDefTimer = 1;
+		wait_option = wait_option & ((ULONG)(~TX_DEFERABLE_TIMER));
+	}
+
 
 #ifdef TX_QUEUE_ENABLE_PERFORMANCE_INFO
 
@@ -520,6 +531,9 @@
             /* Setup the timeout period.  */
             thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  wait_option;
 
+		if(isDefTimer == 1){
+			thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+		}
             /* Temporarily disable preemption.  */
             _tx_thread_preempt_disable++;
 
diff -au --ignore-file-name-case orig/tx_queue_send.c modified/tx_queue_send.c
--- orig/tx_queue_send.c	2023-11-06 03:51:44.500736000 -0800
+++ modified/tx_queue_send.c	2023-11-06 03:51:44.501739600 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -147,6 +151,7 @@
 TX_THREAD       *next_thread;
 TX_THREAD       *previous_thread;
 UINT            status;
+UINT 			isDefTimer = 0;
 #ifndef TX_DISABLE_NOTIFY_CALLBACKS
 VOID            (*queue_send_notify)(struct TX_QUEUE_STRUCT *notify_queue_ptr);
 #endif
@@ -157,6 +162,11 @@
 
     /* Disable interrupts to place message in the queue.  */
     TX_DISABLE
+	
+	if( (wait_option != TX_WAIT_FOREVER) && (wait_option & TX_DEFERABLE_TIMER)){
+		isDefTimer = 1;
+		wait_option = wait_option & ((ULONG)(~TX_DEFERABLE_TIMER));
+	}
 
 #ifdef TX_QUEUE_ENABLE_PERFORMANCE_INFO
 
@@ -428,8 +438,12 @@
             /* Setup the timeout period.  */
             thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  wait_option;
 
-            /* Temporarily disable preemption.  */
-            _tx_thread_preempt_disable++;
+		if(isDefTimer == 1){
+			thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+		}
+			
+        /* Temporarily disable preemption.  */
+        _tx_thread_preempt_disable++;
 
             /* Restore interrupts.  */
             TX_RESTORE
diff -au --ignore-file-name-case orig/tx_semaphore_ceiling_put.c modified/tx_semaphore_ceiling_put.c
--- orig/tx_semaphore_ceiling_put.c	2023-11-06 03:51:44.501739600 -0800
+++ modified/tx_semaphore_ceiling_put.c	2023-11-06 03:51:44.501739600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_ceiling_put                           PORTABLE C      */ 
-/*                                                           5.9          */  
+/*                                                           5.7          */  
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -108,10 +108,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_ceiling_put(TX_SEMAPHORE *semaphore_ptr, ULONG ceiling)
diff -au --ignore-file-name-case orig/tx_semaphore_create.c modified/tx_semaphore_create.c
--- orig/tx_semaphore_create.c	2023-11-06 03:51:44.502743200 -0800
+++ modified/tx_semaphore_create.c	2023-11-06 03:51:44.502743200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_create                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_create(TX_SEMAPHORE *semaphore_ptr, CHAR *name_ptr, ULONG initial_count)
diff -au --ignore-file-name-case orig/tx_semaphore_get.c modified/tx_semaphore_get.c
--- orig/tx_semaphore_get.c	2023-11-06 03:51:44.502743200 -0800
+++ modified/tx_semaphore_get.c	2023-11-06 03:51:44.503746800 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -127,6 +131,7 @@
 TX_THREAD       *thread_ptr;            
 TX_THREAD       *next_thread;
 TX_THREAD       *previous_thread;
+UINT 			isDefTimer = 0;
 UINT            status;
 
 
@@ -135,6 +140,11 @@
 
     /* Disable interrupts to get an instance from the semaphore.  */
     TX_DISABLE
+	
+	if( (wait_option != TX_WAIT_FOREVER) && (wait_option & TX_DEFERABLE_TIMER)){
+		isDefTimer = 1;
+		wait_option = wait_option & ((ULONG)(~TX_DEFERABLE_TIMER));
+	}
 
 #ifdef TX_SEMAPHORE_ENABLE_PERFORMANCE_INFO
 
@@ -250,8 +260,12 @@
             /* Setup the timeout period.  */
             thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  wait_option;
 
-            /* Temporarily disable preemption.  */
-            _tx_thread_preempt_disable++;
+		if(isDefTimer == 1){
+			thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+		}
+		
+        /* Temporarily disable preemption.  */
+        _tx_thread_preempt_disable++;
 
             /* Restore interrupts.  */
             TX_RESTORE
diff -au --ignore-file-name-case orig/tx_semaphore_info_get.c modified/tx_semaphore_info_get.c
--- orig/tx_semaphore_info_get.c	2023-11-06 03:51:44.503746800 -0800
+++ modified/tx_semaphore_info_get.c	2023-11-06 03:51:44.504750400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_info_get                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -109,10 +109,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_info_get(TX_SEMAPHORE *semaphore_ptr, CHAR **name, ULONG *current_value, 
diff -au --ignore-file-name-case orig/tx_semaphore_initialize.c modified/tx_semaphore_initialize.c
--- orig/tx_semaphore_initialize.c	2023-11-06 03:51:44.504750400 -0800
+++ modified/tx_semaphore_initialize.c	2023-11-06 03:51:44.504750400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -85,7 +85,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_initialize                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -132,10 +132,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_semaphore_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_semaphore_performance_info_get.c modified/tx_semaphore_performance_info_get.c
--- orig/tx_semaphore_performance_info_get.c	2023-11-06 03:51:44.505754000 -0800
+++ modified/tx_semaphore_performance_info_get.c	2023-11-06 03:51:44.505754000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_performance_info_get                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -114,10 +114,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_performance_info_get(TX_SEMAPHORE *semaphore_ptr, ULONG *puts, ULONG *gets,
diff -au --ignore-file-name-case orig/tx_semaphore_performance_system_info_get.c modified/tx_semaphore_performance_system_info_get.c
--- orig/tx_semaphore_performance_system_info_get.c	2023-11-06 03:51:44.505754000 -0800
+++ modified/tx_semaphore_performance_system_info_get.c	2023-11-06 03:51:44.506757600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_performance_system_info_get           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_performance_system_info_get(ULONG *puts, ULONG *gets, ULONG *suspensions, ULONG *timeouts)
diff -au --ignore-file-name-case orig/tx_semaphore_prioritize.c modified/tx_semaphore_prioritize.c
--- orig/tx_semaphore_prioritize.c	2023-11-06 03:51:44.506757600 -0800
+++ modified/tx_semaphore_prioritize.c	2023-11-06 03:51:44.506757600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_prioritize                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -102,10 +102,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_prioritize(TX_SEMAPHORE *semaphore_ptr)
diff -au --ignore-file-name-case orig/tx_semaphore_put.c modified/tx_semaphore_put.c
--- orig/tx_semaphore_put.c	2023-11-06 03:51:44.507761200 -0800
+++ modified/tx_semaphore_put.c	2023-11-06 03:51:44.507761200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_put                                   PORTABLE C      */ 
-/*                                                           5.9          */  
+/*                                                           5.7          */  
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_semaphore_put(TX_SEMAPHORE *semaphore_ptr)
diff -au --ignore-file-name-case orig/tx_thread_context_restore.s modified/tx_thread_context_restore.S
--- orig/tx_thread_context_restore.s	2023-11-06 03:51:44.507761200 -0800
+++ modified/tx_thread_context_restore.S	2023-11-06 03:51:44.508764800 -0800
@@ -41,18 +41,10 @@
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
 ;#include "tx_timer.h"
+#include "tx_internal.h"
+
 ;
-;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
-DISABLE_INTS    EQU     0xC0                    ; Disable IRQ & FIQ interrupts
-IRQ_MODE        EQU     0xD2                    ; IRQ mode
-SVC_MODE        EQU     0xD3                    ; SVC mode
-    ELSE
-DISABLE_INTS    EQU     0x80                    ; Disable IRQ interrupts
-IRQ_MODE        EQU     0x92                    ; IRQ mode
-SVC_MODE        EQU     0x93                    ; SVC mode
-    ENDIF
-;
+
 ;
     IMPORT      _tx_thread_system_state
     IMPORT      _tx_thread_current_ptr
@@ -60,9 +52,9 @@
     IMPORT      _tx_timer_time_slice
     IMPORT      _tx_thread_schedule
     IMPORT      _tx_thread_preempt_disable
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef	TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT      _tx_execution_isr_exit
-    ENDIF
+#endif
 ;
 ;
         AREA ||.text||, CODE, READONLY
@@ -120,18 +112,18 @@
 ;
 ;    /* Lockout interrupts.  */
 ;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef	TX_ENABLE_FIQ_SUPPORT
     CPSID   if                                  ; Disable IRQ and FIQ interrupts
-    ELSE
+#else
     CPSID   i                                   ; Disable IRQ interrupts
-    ENDIF
+#endif
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR exit function to indicate an ISR is complete.  */
 ;
     BL      _tx_execution_isr_exit              ; Call the ISR exit function
-    ENDIF
+#endif
 ;
 ;    /* Determine if interrupts are nested.  */
 ;    if (--_tx_thread_system_state)
@@ -198,16 +190,28 @@
 ;
     LDMIA   sp!, {r3, r10, r12, lr}             ; Recover temporarily saved registers
     MOV     r1, lr                              ; Save lr (point of interrupt)
+#ifdef TX3_CHANGES 
+    CPS     #SYS_MODE                           ; Enter SYS mode
+#else    
     MOV     r2, #SVC_MODE                       ; Build SVC mode CPSR
     MSR     CPSR_c, r2                          ; Enter SVC mode
+#endif    
     STR     r1, [sp, #-4]!                      ; Save point of interrupt
     STMDB   sp!, {r4-r12, lr}                   ; Save upper half of registers
     MOV     r4, r3                              ; Save SPSR in r4
+#ifdef TX3_CHANGES
+    CPS     #IRQ_MODE                           ; Enter IRQ mode
+#else
     MOV     r2, #IRQ_MODE                       ; Build IRQ mode CPSR
     MSR     CPSR_c, r2                          ; Enter IRQ mode
+#endif    
     LDMIA   sp!, {r0-r3}                        ; Recover r0-r3
+#ifdef TX3_CHANGES
+    CPS     #SYS_MODE                           ; Enter SYS mode
+#else
     MOV     r5, #SVC_MODE                       ; Build SVC mode CPSR
     MSR     CPSR_c, r5                          ; Enter SVC mode
+#endif
     STMDB   sp!, {r0-r3}                        ; Save r0-r3 on thread's stack
 
     LDR     r1, =_tx_thread_current_ptr         ; Pickup address of current thread ptr
@@ -258,16 +262,32 @@
 ;    /* Return to the scheduler.  */
 ;    _tx_thread_schedule();
 ;
+#ifdef TX3_CHANGES
+    CPS     #IRQ_MODE                           ; Enter IRQ mode
+    MRS     r1, SPSR                            ; Get SPSR
+    ORR     r1, r1, #SYS_MODE                   ; Change to SYS Mode
+    MSR     SPSR_cxsf, r1                       ; Put SYS Mode in SPSR
+    ;LDR     lr, =_tx_thread_schedule            ; Load scheduler address
+    ;MOVS    pc, lr                              ; Return to scheduler
+     B       _tx_thread_schedule                 ; Return to scheduler
+#else
     B       _tx_thread_schedule                 ; Return to scheduler
+#endif
 ;    }
 ;
 __tx_thread_idle_system_restore
 ;
 ;    /* Just return back to the scheduler!  */
 ;
+#ifdef TX3_CHANGES
+    ;LDR     lr, =_tx_thread_schedule            ; Load scheduler address
+    ;MOVS    pc, lr                              ; Return to scheduler
+    B       _tx_thread_schedule                 ; Return to scheduler
+#else 
     MOV     r3, #SVC_MODE                       ; Build SVC mode with interrupts disabled
     MSR     CPSR_c, r3                          ; Change to SVC mode
     B       _tx_thread_schedule                 ; Return to scheduler
+#endif
 ;}
 ;
     END
diff -au --ignore-file-name-case orig/tx_thread_context_save.s modified/tx_thread_context_save.S
--- orig/tx_thread_context_save.s	2023-11-06 03:51:44.508764800 -0800
+++ modified/tx_thread_context_save.S	2023-11-06 03:51:44.509768400 -0800
@@ -45,9 +45,9 @@
     IMPORT      _tx_thread_system_state
     IMPORT      _tx_thread_current_ptr
     IMPORT      __tx_irq_processing_return
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef	TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT      _tx_execution_isr_enter
-    ENDIF
+#endif
 ;
 ;
         AREA ||.text||, CODE, READONLY
@@ -108,9 +108,9 @@
 ;    {
 ;
     STMDB   sp!, {r0-r3}                        ; Save some working registers 
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef	TX_ENABLE_FIQ_SUPPORT
     CPSID   if                                  ; Disable FIQ interrupts
-    ENDIF
+#endif
     LDR     r3, =_tx_thread_system_state        ; Pickup address of system state var
     LDR     r2, [r3, #0]                        ; Pickup system state
     CMP     r2, #0                              ; Is this the first interrupt?
@@ -132,14 +132,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     B       __tx_irq_processing_return          ; Continue IRQ processing 
 ;
@@ -172,14 +172,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     B       __tx_irq_processing_return          ; Continue IRQ processing 
 ;
@@ -196,14 +196,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     ADD     sp, sp, #16                         ; Recover saved registers
     B       __tx_irq_processing_return          ; Continue IRQ processing  
diff -au --ignore-file-name-case orig/tx_thread_create.c modified/tx_thread_create.c
--- orig/tx_thread_create.c	2023-11-06 03:51:44.509768400 -0800
+++ modified/tx_thread_create.c	2023-11-06 03:51:44.509768400 -0800
@@ -216,7 +216,16 @@
     thread_ptr -> tx_thread_new_time_slice =    time_slice;
     thread_ptr -> tx_thread_inherit_priority =  ((UINT) TX_MAX_PRIORITIES);
 
-    /* Calculate the end of the thread's stack area.  */
+    #ifdef TX_ENABLE_PROFILING
+		thread_ptr-> tx_profile_curr_tick = 0x0LL;
+		thread_ptr-> tx_profile_total_run_time = 0x0LL;
+		thread_ptr-> tx_profile_base_tick = 0x0LL;
+	#endif
+	#ifdef LLDB_FEATURE_ENABLED
+		thread_ptr-> tx_lldb_thread_suspend_state = 0;
+	#endif
+	
+	/* Calculate the end of the thread's stack area.  */
     temp_ptr =  TX_VOID_TO_UCHAR_POINTER_CONVERT(stack_start);
     temp_ptr =  (TX_UCHAR_POINTER_ADD(temp_ptr, (stack_size - ((ULONG) 1))));
     thread_ptr -> tx_thread_stack_end =         TX_UCHAR_TO_VOID_POINTER_CONVERT(temp_ptr);
diff -au --ignore-file-name-case orig/tx_thread_fiq_context_save.s modified/tx_thread_fiq_context_save.S
--- orig/tx_thread_fiq_context_save.s	2023-11-06 03:51:44.510772000 -0800
+++ modified/tx_thread_fiq_context_save.S	2023-11-06 03:51:44.510772000 -0800
@@ -45,9 +45,9 @@
     IMPORT      _tx_thread_system_state
     IMPORT      _tx_thread_current_ptr
     IMPORT      __tx_fiq_processing_return
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef	TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT      _tx_execution_isr_enter
-    ENDIF
+#endif
 ;
 ;
         AREA ||.text||, CODE, READONLY
@@ -129,14 +129,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     B       __tx_fiq_processing_return          ; Continue FIQ processing 
 ;
@@ -173,14 +173,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     B       __tx_fiq_processing_return          ; Continue FIQ processing 
 ;
@@ -192,14 +192,14 @@
 ;
 ;    /* Interrupt occurred in the scheduling loop.  */
 ;
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 ;
 ;    /* Not much to do here, save the current SPSR and LR for possible
 ;       use in IRQ interrupted in idle system conditions, and return to 
diff -au --ignore-file-name-case orig/tx_thread_fiq_nesting_end.s modified/tx_thread_fiq_nesting_end.S
--- orig/tx_thread_fiq_nesting_end.s	2023-11-06 03:51:44.510772000 -0800
+++ modified/tx_thread_fiq_nesting_end.S	2023-11-06 03:51:44.511775600 -0800
@@ -40,16 +40,11 @@
 ;
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
+
+#include "tx_internal.h"
+
 ;
-;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
-DISABLE_INTS    EQU     0xC0                    ; Disable IRQ & FIQ interrupts
-    ELSE
-DISABLE_INTS    EQU     0x80                    ; Disable IRQ interrupts
-    ENDIF
-MODE_MASK       EQU     0x1F                    ; Mode mask 
-FIQ_MODE_BITS   EQU     0x11                    ; FIQ mode bits
-;
+
 ;
         AREA ||.text||, CODE, READONLY
 ;/**************************************************************************/ 
diff -au --ignore-file-name-case orig/tx_thread_fiq_nesting_start.s modified/tx_thread_fiq_nesting_start.S
--- orig/tx_thread_fiq_nesting_start.s	2023-11-06 03:51:44.511775600 -0800
+++ modified/tx_thread_fiq_nesting_start.S	2023-11-06 03:51:44.512779200 -0800
@@ -40,11 +40,14 @@
 ;
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
+;#include "tx_timer.h"
+#include "tx_internal.h"
+
 ;
 ;
-FIQ_DISABLE     EQU     0x40                    ; FIQ disable bit
-MODE_MASK       EQU     0x1F                    ; Mode mask
-SYS_MODE_BITS   EQU     0x1F                    ; System mode bits
+;FIQ_DISABLE     DEFINE  0x40                    ; FIQ disable bit
+;MODE_MASK       DEFINE  0x1F                    ; Mode mask
+;SYS_MODE_BITS   DEFINE  0x1F                    ; System mode bits
 ;
 ;
         AREA ||.text||, CODE, READONLY
diff -au --ignore-file-name-case orig/tx_thread_identify.c modified/tx_thread_identify.c
--- orig/tx_thread_identify.c	2023-11-06 03:51:44.512779200 -0800
+++ modified/tx_thread_identify.c	2023-11-06 03:51:44.512779200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_identify                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 TX_THREAD  *_tx_thread_identify(VOID)
@@ -121,7 +117,6 @@
     TX_DISABLE
 
 #ifdef TX_ENABLE_EVENT_TRACE
-
     /* If trace is enabled, insert this event into the trace buffer.  */
     TX_TRACE_IN_LINE_INSERT(TX_TRACE_THREAD_IDENTIFY, 0, 0, 0, 0, TX_TRACE_THREAD_EVENTS)
 #endif
diff -au --ignore-file-name-case orig/tx_thread_info_get.c modified/tx_thread_info_get.c
--- orig/tx_thread_info_get.c	2023-11-06 03:51:44.513782800 -0800
+++ modified/tx_thread_info_get.c	2023-11-06 03:51:44.513782800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_info_get                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -112,10 +112,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_info_get(TX_THREAD *thread_ptr, CHAR **name, UINT *state, ULONG *run_count, 
diff -au --ignore-file-name-case orig/tx_thread_initialize.c modified/tx_thread_initialize.c
--- orig/tx_thread_initialize.c	2023-11-06 03:51:44.513782800 -0800
+++ modified/tx_thread_initialize.c	2023-11-06 03:51:44.514786400 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -65,7 +69,10 @@
    pointer.  */
 
 TX_THREAD *     _tx_thread_execute_ptr;
-
+/*
+	Last executed task . used for profiling 
+*/
+TX_THREAD *		_tx_thread_last_executed_ptr;
 
 /* Define the head pointer of the created thread list.  */
 
diff -au --ignore-file-name-case orig/tx_thread_interrupt_control.s modified/tx_thread_interrupt_control.S
--- orig/tx_thread_interrupt_control.s	2023-11-06 03:51:44.514786400 -0800
+++ modified/tx_thread_interrupt_control.S	2023-11-06 03:51:44.514786400 -0800
@@ -39,14 +39,11 @@
 ;
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
+#include "tx_internal.h"
+
 ;
 ;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
-INT_MASK        EQU         0xC0                ; Interrupt bit mask
-    ELSE
-INT_MASK        EQU         0x80                ; Interrupt bit mask
-    ENDIF
-;
+
 ;
         AREA ||.text||, CODE, READONLY
 ;/**************************************************************************/ 
diff -au --ignore-file-name-case orig/tx_thread_interrupt_disable.s modified/tx_thread_interrupt_disable.S
--- orig/tx_thread_interrupt_disable.s	2023-11-06 03:51:44.515790000 -0800
+++ modified/tx_thread_interrupt_disable.S	2023-11-06 03:51:44.515790000 -0800
@@ -94,11 +94,11 @@
 ;
 ;    /* Mask interrupts.  */
 ;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef	TX_ENABLE_FIQ_SUPPORT
     CPSID   if                                  ; Disable IRQ and FIQ
-    ELSE
+#else
     CPSID   i                                   ; Disable IRQ 
-    ENDIF
+#endif
 
     IF  {INTER} = {TRUE}
     BX      lr                                  ; Return to caller
diff -au --ignore-file-name-case orig/tx_thread_irq_nesting_end.s modified/tx_thread_irq_nesting_end.S
--- orig/tx_thread_irq_nesting_end.s	2023-11-06 03:51:44.515790000 -0800
+++ modified/tx_thread_irq_nesting_end.S	2023-11-06 03:51:44.516793600 -0800
@@ -40,15 +40,17 @@
 ;
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
+;#include "tx_timer.h"
+#include "tx_internal.h"
 ;
 ;
-    IF  :DEF:TX_ENABLE_FIQ_SUPPORT
-DISABLE_INTS    EQU     0xC0                    ; Disable IRQ & FIQ interrupts
-    ELSE
-DISABLE_INTS    EQU     0x80                    ; Disable IRQ interrupts
-    ENDIF
-MODE_MASK       EQU     0x1F                    ; Mode mask 
-IRQ_MODE_BITS   EQU     0x12                    ; IRQ mode bits
+;#ifdef TX_ENABLE_FIQ_SUPPORT
+;DISABLE_INTS    DEFINE  0xC0                    ; Disable IRQ & FIQ interrupts
+;#else
+;DISABLE_INTS    DEFINE  0x80                    ; Disable IRQ interrupts
+;#endif
+;MODE_MASK       DEFINE  0x1F                    ; Mode mask 
+;IRQ_MODE_BITS   DEFINE  0x12                    ; IRQ mode bits
 ;
 ;
         AREA ||.text||, CODE, READONLY
diff -au --ignore-file-name-case orig/tx_thread_irq_nesting_start.s modified/tx_thread_irq_nesting_start.S
--- orig/tx_thread_irq_nesting_start.s	2023-11-06 03:51:44.516793600 -0800
+++ modified/tx_thread_irq_nesting_start.S	2023-11-06 03:51:44.517797200 -0800
@@ -40,11 +40,14 @@
 ;
 ;#include "tx_api.h"
 ;#include "tx_thread.h"
+;#include "tx_timer.h"
+#include "tx_internal.h"
+
 ;
 ;
-IRQ_DISABLE     EQU     0x80                    ; IRQ disable bit
-MODE_MASK       EQU     0x1F                    ; Mode mask
-SYS_MODE_BITS   EQU     0x1F                    ; System mode bits
+;IRQ_DISABLE     DEFINE  0x80                    ; IRQ disable bit
+;MODE_MASK       DEFINE  0x1F                    ; Mode mask
+;SYS_MODE_BITS   DEFINE  0x1F                    ; System mode bits
 ;
 ;
         AREA ||.text||, CODE, READONLY
diff -au --ignore-file-name-case orig/tx_thread_performance_info_get.c modified/tx_thread_performance_info_get.c
--- orig/tx_thread_performance_info_get.c	2023-11-06 03:51:44.517797200 -0800
+++ modified/tx_thread_performance_info_get.c	2023-11-06 03:51:44.517797200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_performance_info_get                     PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -131,10 +131,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_performance_info_get(TX_THREAD *thread_ptr, ULONG *resumptions, ULONG *suspensions, 
diff -au --ignore-file-name-case orig/tx_thread_performance_system_info_get.c modified/tx_thread_performance_system_info_get.c
--- orig/tx_thread_performance_system_info_get.c	2023-11-06 03:51:44.518800800 -0800
+++ modified/tx_thread_performance_system_info_get.c	2023-11-06 03:51:44.518800800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_performance_system_info_get              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -130,10 +130,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_performance_system_info_get(ULONG *resumptions, ULONG *suspensions,
diff -au --ignore-file-name-case orig/tx_thread_preemption_change.c modified/tx_thread_preemption_change.c
--- orig/tx_thread_preemption_change.c	2023-11-06 03:51:44.518800800 -0800
+++ modified/tx_thread_preemption_change.c	2023-11-06 03:51:44.519804400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_preemption_change                        PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -123,10 +123,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_preemption_change(TX_THREAD *thread_ptr, UINT new_threshold, UINT *old_threshold)
diff -au --ignore-file-name-case orig/tx_thread_priority_change.c modified/tx_thread_priority_change.c
--- orig/tx_thread_priority_change.c	2023-11-06 03:51:44.519804400 -0800
+++ modified/tx_thread_priority_change.c	2023-11-06 03:51:44.520807900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_priority_change                          PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -125,10 +125,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_priority_change(TX_THREAD *thread_ptr, UINT new_priority, UINT *old_priority)
diff -au --ignore-file-name-case orig/tx_thread_relinquish.c modified/tx_thread_relinquish.c
--- orig/tx_thread_relinquish.c	2023-11-06 03:51:44.520807900 -0800
+++ modified/tx_thread_relinquish.c	2023-11-06 03:51:44.520807900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -50,7 +50,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_relinquish                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -109,10 +109,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_thread_relinquish(VOID)
diff -au --ignore-file-name-case orig/tx_thread_schedule.s modified/tx_thread_schedule.S
--- orig/tx_thread_schedule.s	2023-11-06 03:51:44.521811500 -0800
+++ modified/tx_thread_schedule.S	2023-11-06 03:51:44.521811500 -0800
@@ -1,6 +1,6 @@
 ;/**************************************************************************/ 
 ;/*                                                                        */ 
-;/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
+;/*            Copyright (c) 1996-2016 by Express Logic Inc.               */ 
 ;/*                                                                        */ 
 ;/*  This software is copyrighted by and is the sole property of Express   */ 
 ;/*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -21,6 +21,11 @@
 ;/*                                                                        */
 ;/**************************************************************************/
 ;
+;/*==============================================================================
+;  Copyright (c) 2020 Qualcomm Technologies, Inc.
+;  All rights reserved. Qualcomm Proprietary and Confidential.
+;==============================================================================*/
+;
 ;
 ;/**************************************************************************/
 ;/**************************************************************************/
@@ -43,22 +48,36 @@
 ;#include "tx_timer.h"
 ;
 ;
+#include "tx_internal.h"
+
     IMPORT     _tx_thread_execute_ptr
     IMPORT     _tx_thread_current_ptr
     IMPORT     _tx_timer_time_slice
     IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT     _tx_execution_thread_enter
     ENDIF
-;
-;
-        AREA ||.text||, CODE, READONLY
-        PRESERVE8
+
+
+    IMPORT      _txm_system_mode_enter
+    IMPORT      _txm_system_mode_exit
+    ;IMPORT      _txm_ttbr1_page_table
+    IMPORT      arm_mmu_pgtable
+    IMPORT      data_abort_vector
+    IMPORT      qurt_threadx_profile
+    IMPORT		allocateKernelStack
+    IMPORT		deallocateKernelStack
+    IMPORT		last_stack_start
+#ifdef LLDB_FEATURE_ENABLED
+	IMPORT		_tx_lldb_brkpt_handler
+#endif
+
+
 ;/**************************************************************************/ 
 ;/*                                                                        */ 
 ;/*  FUNCTION                                               RELEASE        */ 
 ;/*                                                                        */ 
-;/*    _tx_thread_schedule                                Cortex-A7/ARM    */ 
-;/*                                                           5.2          */ 
+;/*    _tx_thread_schedule                             Cortex-A7/MMU/ARM   */ 
+;/*                                                           5.6          */ 
 ;/*  AUTHOR                                                                */ 
 ;/*                                                                        */ 
 ;/*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -91,73 +110,224 @@
 ;/*                                                                        */ 
 ;/*    DATE              NAME                      DESCRIPTION             */ 
 ;/*                                                                        */ 
-;/*  11-01-2013     William E. Lamie         Initial Version 5.0           */ 
-;/*  01-01-2014     William E. Lamie         Modified comment(s), and      */ 
-;/*                                            made VFP support per-thread */ 
-;/*                                            optional, resulting in      */ 
-;/*                                            version 5.1                 */ 
-;/*  03-01-2015     William E. Lamie         Modified comment(s),          */ 
-;/*                                            resulting in version 5.2    */ 
+;/*  12-30-2016     Scott Larson             Initial Version 5.6           */ 
 ;/*                                                                        */ 
 ;/**************************************************************************/ 
 ;VOID   _tx_thread_schedule(VOID)
 ;{
     EXPORT  _tx_thread_schedule
+    PRESERVE8
+    AREA ||.text||, CODE, READONLY
+    CODE32
+ARM
+;_tx_thread_schedule??rA
 _tx_thread_schedule
+	SVC     0                               ; Request scheduling
+	
+    ; We should never get here - ever!
+__scheduler_fault__
+    B       __scheduler_fault__
+
+
+
+    EXPORT __tx_swi_interrupt               ; Software interrupt handler
+__tx_swi_interrupt
+
+    STMFD   sp!, {r0-r3, r12, lr}           ; Store the registers
+    MOV     r1, sp                          ; Set pointer to parameters
+    MRS     r0, spsr                        ; Get spsr
+    STMFD   sp!, {r0, r3}                   ; Store spsr onto stack and another
+                                            ; register to maintain 8-byte-aligned stack
+    TST     r0, #T_bit                      ; Occurred in Thumb state?
+    LDRNEH  r0, [lr,#-2]                    ; Yes: Load halfword and...
+    BICNE   r0, r0, #0xFF00                 ; ...extract comment field
+    LDREQ   r0, [lr,#-4]                    ; No: Load word and...
+    BICEQ   r0, r0, #0xFF000000             ; ...extract comment field
+
+    ; r0 now contains SVC number
+    ; r1 now contains pointer to stacked registers
+
 ;
-;    /* Enable interrupts.  */
-;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
-    CPSIE   if                                  ; Enable IRQ and FIQ interrupts
-    ELSE
-    CPSIE   i                                   ; Enable IRQ interrupts
-    ENDIF
+    ; The service call is handled here
 ;
-;    /* Wait for a thread to execute.  */
-;    do
-;    {
+    
+    CMP     r0, #0                          ; Is it a schedule request?
+    BEQ     _tx_handler_svc_schedule        ; Yes, go there
+
+    CMP     r0, #1                          ; Is it a system mode enter request?
+    BEQ     _tx_handler_svc_super_enter     ; Yes, go there
+
+    CMP     r0, #2                          ; Is it a system mode exit request?
+    BEQ     _tx_handler_svc_super_exit      ; Yes, go there
+    
+    LDR     r2, =0x123456
+    CMP     r0, r2                          ; Is it an ARM request?
+    BEQ     _tx_handler_svc_arm             ; Yes, go there
+	CMP     r0, #0xAB                       ; Used by malloc library 
+    BEQ     _tx_handler_svc_arm             ; Dont do anything
+	
+#ifdef LLDB_FEATURE_ENABLED    
+	CMP  r0, #TX_LLDB_RESTORE_BRKPT_TRAP	; Is it an LLDB Brkpt request?
+	BEQ _tx_lldb_brkpt_handler				; Yes, its svc 6
+		
+	CMP  r0, #TX_LLDB_BRKPT_TRAP			; Is it an LLDB Brkpt request?
+	BEQ _tx_lldb_brkpt_handler				; Yes, its svc 5
+#endif
+
+    ; Unrecognised service call
+_tx_handler_svc_unrecognized
+
+_tx_handler_svc_unrecognized_loop           ; We should never get here
+    B       _tx_handler_svc_unrecognized_loop
+    
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; SVC 1
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+    ; At this point we have an SVC 1, which means we are entering the system mode to service a kernel call
+_tx_handler_svc_super_enter
+    ; Make sure that we have been called from the system mode enter location (security)
+    LDR     r2, =_txm_system_mode_enter     ; Load the address of the known call point 
+    SUB     r1, lr, #4                      ; Calculate the address of the actual call
+    CMP     r1, r2                          ; Did we come from txm_module_manager_user_mode_entry?
+    BNE     _tx_handler_svc_unrecognized    ; Return to where we came
+
+    ; Clear the user mode flag in the thread structure
+    LDR     r1, =_tx_thread_current_ptr     ; Load the current thread pointer address
+    LDR     r2, [r1]                        ; Load current thread location from the pointer (pointer indirection)
+    MOV     r1, #0                          ; Load the new user mode flag value (user mode flag clear -> not user mode -> system)
+    STR     r1, [r2, #156]                  ; Clear tx_thread_module_current_user_mode for thread
+    
+    ; Now we enter the system mode and return
+    LDMFD   sp!, {r0, r3}                   ; Get spsr from the stack
+    BIC     r0, r0, #MODE_MASK              ; clear mode field
+    ORR     r0, r0, #SYS_MODE               ; system mode code
+    MSR     SPSR_cxsf, r0                   ; Restore the spsr
+
+	MOV 	r0,sp
+	LDR 	r0,[r0]							; get Dispatcher ID from stack pointer
+    bl		allocateKernelStack				; Allocate kernel stack
+    LDR     r1, =_tx_thread_current_ptr     ; Load the current thread pointer address
+    LDR     r2, [r1]                        ; Load current thread location from the pointer (pointer indirection)
+    CPS     #SYS_MODE						; Switch to SYS mode
+    MOV		r3, sp							; Grab thread stack pointer
+    MOV		sp, r0							; Set SP to kernel stack pointer
+    CPS     #SVC_MODE						; Switch back to SVC mode
+
+	
+  	LDR 	r1,=last_stack_start			; last_stack_start is start address of last allocated stack buffer
+  	LDR 	r1,[r1]
+   											; at this point : r2: current thread pointer
+    STR     r1, [r2, #12]                   ; Set stack start
+    STR     r0, [r2, #16]                   ; Set stack end
+
+	STR     r3, [r2, #TXM_MODULE_STACK_PTR] ; Save thread stack pointer in tx_thread_module_stack_ptr
+    LDMFD   sp!, {r0-r3, r12, pc}^          ; Restore the registers and return
+    
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; SVC 2
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+    ; At this point we have an SVC 2, which means we are exiting the system mode after servicing a kernel call
+_tx_handler_svc_super_exit
+    ; Make sure that we have been called from the system mode exit location (security)
+    LDR     r2, =_txm_system_mode_exit      ; Load the address of the known call point 
+    SUB     r1, lr, #4                      ; Calculate the address of the actual call
+    CMP     r1, r2                          ; Did we come from txm_module_manager_user_mode_entry?
+    BNE     _tx_handler_svc_unrecognized    ; Return to where we came
+
+    ; Set the user mode flag into the thread structure
+    LDR     r1, =_tx_thread_current_ptr     ; Load the current thread pointer address
+    LDR     r2, [r1]                        ; Load the current thread location from the pointer (pointer indirection)
+    MOV     r1, #1                          ; Load the new user mode flag value (user mode enabled -> not system anymore)
+    STR     r1, [r2, #156]                  ; Set tx_thread_module_current_user_mode for thread
+
+    ; Now we enter user mode (exit the system mode) and return
+    LDMFD   sp!, {r0, r3}                   ; Get spsr from the stack
+    BIC     r0, r0, #MODE_MASK              ; clear mode field
+    ORR     r0, r0, #USR_MODE               ; user mode code
+    MSR     SPSR_cxsf, r0                   ; Restore the spsr
+
+    LDR     r1, [r2, #TXM_MODULE_STACK_PTR] ; Load the module thread stack pointer (From tx_thread_module_stack_ptr)
+
+	CPS     #SYS_MODE						; Switch to SYS mode
+    MOV		r3, sp							; Grab kernel stack pointer
+    MOV		sp, r1							; Set SP back to thread stack pointer
+    CPS     #SVC_MODE						; Switch back to SVC mode
+
+    LDR     r1, [r2, #TXM_MODULE_STACK_START] ; Load the module thread stack start (tx_thread_module_stack_start)
+    LDR     r3, [r2, #TXM_MODULE_STACK_END] ; Load the module thread stack end	  (tx_thread_module_stack_end)
+
+	LDR     r2, =_tx_thread_current_ptr     ; Load the current thread pointer address
+    LDR     r2, [r2]                        ; Load the current thread location from the pointer (pointer indirection)
+    STR     r1, [r2, #12]                   ; Set stack start
+    STR     r3, [r2, #16]                   ; Set stack end
+
+    bl		deallocateKernelStack
+    LDMFD   sp!, {r0-r3, r12, pc}^          ; Restore the registers and return
+    
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; ARM Semihosting
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+_tx_handler_svc_arm
+    
+    ; *** TODO: handle semihosting requests or ARM angel requests ***
+    
+    ; just return
+    LDMFD   sp!, {r0, r3}                   ; Get spsr from the stack
+    MSR     SPSR_cxsf, r0                   ; Restore the spsr
+    LDMFD   sp!, {r0-r3, r12, pc}^          ; Restore the registers and return
+    
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; SVC 0
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+    ; At this point we have an SVC 0: enter the scheduler.
+_tx_handler_svc_schedule
+
+    LDMFD   sp!, {r0, r3}                   ; Get spsr from stack
+    MSR     SPSR_cxsf, r0                   ; Restore spsr
+    LDMFD   sp!, {r0-r3, r12, lr}           ; Restore the registers 
+
+    ; This code waits for a thread control block pointer to appear in 
+    ; the _tx_thread_execute_ptr variable.  Once a thread pointer appears 
+    ; in the variable, the corresponding thread is resumed.                
+    EXPORT _tx_thread_schedule_cont
+_tx_thread_schedule_cont
+    ; Enable interrupts.
+    MRS     r2, CPSR                            ; Pickup CPSR
+    BIC     r0, r2, #ENABLE_INTS                ; Clear the disable bit(s)
+    MSR     CPSR_cxsf, r0                       ; Enable interrupts
+
+    ; Wait for a thread to execute.
     LDR     r1, =_tx_thread_execute_ptr         ; Address of thread execute ptr
-;
 __tx_thread_schedule_loop
-;
     LDR     r0, [r1, #0]                        ; Pickup next thread to execute
     CMP     r0, #0                              ; Is it NULL?
     BEQ     __tx_thread_schedule_loop           ; If so, keep looking for a thread
-;
-;    }
-;    while(_tx_thread_execute_ptr == TX_NULL);
-;    
-;    /* Yes! We have a thread to execute.  Lockout interrupts and
-;       transfer control to it.  */
-;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
-    CPSID   if                                  ; Enable IRQ and FIQ interrupts
-    ELSE
-    CPSID   i                                   ; Enable IRQ interrupts
-    ENDIF
-;
-;    /* Setup the current thread pointer.  */
-;    _tx_thread_current_ptr =  _tx_thread_execute_ptr;
-;
-    LDR     r1, =_tx_thread_current_ptr         ; Pickup address of current thread 
-    STR     r0, [r1, #0]                        ; Setup current thread pointer
-;
-;    /* Increment the run count for this thread.  */
-;    _tx_thread_current_ptr -> tx_thread_run_count++;
-;
+
+    ; Yes! We have a thread to execute.  Lockout interrupts and transfer control to it.
+	MSR 	CPSR_cxsf, r2						; Disable interrupts
+
+#ifdef TX_ENABLE_PROFILING	
+	BL		qurt_threadx_profile				; log current thread's scheduled time
+	LDR     r1, =_tx_thread_execute_ptr
+	LDR     r0, [r1, #0]
+#endif
+	
+    ; Setup the current thread pointer.
+    LDR     r1, =_tx_thread_current_ptr     ; Load the address of current thread 
+    STR     r0, [r1, #0]                    ; Setup current thread pointer
+    
+    ; Increment the run count for this thread.
     LDR     r2, [r0, #4]                        ; Pickup run counter
     LDR     r3, [r0, #24]                       ; Pickup time-slice for this thread
     ADD     r2, r2, #1                          ; Increment thread run-counter
     STR     r2, [r0, #4]                        ; Store the new run counter
-;
-;    /* Setup time-slice, if present.  */
-;    _tx_timer_time_slice =  _tx_thread_current_ptr -> tx_thread_time_slice;
-;
+
+    ; Setup time-slice, if present.
     LDR     r2, =_tx_timer_time_slice           ; Pickup address of time slice 
                                                 ;   variable
-    LDR     sp, [r0, #8]                        ; Switch stack pointers
     STR     r3, [r2, #0]                        ; Setup time-slice
 
+
     IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the thread entry function to indicate the thread is executing.  */
@@ -166,31 +336,91 @@
     BL      _tx_execution_thread_enter          ; Call the thread execution enter function
     MOV     r0, r5                              ; Restore r0
     ENDIF
-;
-;    /* Switch to the thread's stack.  */
-;    sp =  _tx_thread_execute_ptr -> tx_thread_stack_ptr;
-;
-;    /* Determine if an interrupt frame or a synchronous task suspension frame
-;       is present.  */
-;
+
+    ; Determine if an interrupt frame or a synchronous task suspension frame is present.
+    CPS     #SYS_MODE                       ; Enter SYS mode
+    LDR     sp, [r0, #8]                    ; Switch to thread stack pointer
     LDMIA   sp!, {r4, r5}                       ; Pickup the stack type and saved CPSR
+    CPS     #SVC_MODE                       ; Enter SVC mode
+
+    ; **************************************************************************
+    ; Set up MMU for module.
+    LDR     r2, [r0, #0x94]                 ; Pickup the module pointer
+    CMP     r2, #0                          ; Valid module pointer?
+    ; FIXME: Check the offsets; if possible avoid hard-coding
+    LDRNE   r2, [r2, #MODULE_ASID]                 ; Load ASID
+	CMP 	r2, #TXM_MAXIMUM_MODULES		 ; check if ASID < 32
+	BGT		err_fatal_asid					
+    ; Otherwise, ASID 0 & master table will be loaded.
+    ; Is ASID already loaded?
+    MRC     p15, 0, r1, c13, c0, 1          ; Read CONTEXTIDR into r1
+    CMP     r1, r2
+    ; If so, skip MMU setup.
+    BEQ     _tx_skip_mmu_update
+    ; New ASID & TTBR values to load
+    DSB
+    ISB
+    ; Load new ASID and TTBR
+    LDR     r1, =arm_mmu_pgtable            ; Load master TTBR
+    ; FIXME: Ignore the page table attributes for now
+    ORR     r1, r1, #0x9                   ; OR it with #TTBR0_ATTRIBUTES
+    MCR     p15, 0, r1, c2, c0, 0           ; Change TTBR to master
+    ISB
+    DSB
+    MCR     p15, 0, r2, c13, c0, 1          ; Change ASID to new value
+    ISB
+    ; Change TTBR to new value
+    MOV     r3, #14
+    ADD     r1, r1, r2, LSL r3
+    MCR     p15, 0, r1, c2, c0, 0           ; Change TTBR to new value
+    
+    ; refresh TLB
+    MOV     r2, #0
+    DSB
+    MCR     p15, 0, r2, c8, c7, 0          ; Invalidate entire unified TLB
+    MCR     p15, 0, r2, c7, c5, 0          ; Invalidate all instruction caches to PoU
+    MCR     p15, 0, r2, c7, c5, 6          ; Invalidate branch predictor
+    DSB
+    ISB
+    
+    ;test address translation
+    ;mcr p15, 0, r0, c7, c8, 0
+	 
+		
+_tx_skip_mmu_update
+    ; **************************************************************************
+    
     CMP     r4, #0                              ; Check for synchronous context switch
     BEQ     _tx_solicited_return
+    
     MSR     SPSR_cxsf, r5                       ; Setup SPSR for return
+    LDR     r1, [r0, #8]                    ; Get thread SP
+    LDR     lr, [r1, #0x40]                 ; Get thread PC
+    CPS     #SYS_MODE                       ; Enter SYS mode
+    
     IF  {TARGET_FPU_VFP} = {TRUE}
-    LDR     r1, [r0, #144]                      ; Pickup the VFP enabled flag
-    CMP     r1, #0                              ; Is the VFP enabled?
+    LDR     r2, [r0, #144]                      ; Pickup the VFP enabled flag
+    CMP     r2, #0                              ; Is the VFP enabled?
     BEQ     _tx_skip_interrupt_vfp_restore      ; No, skip VFP interrupt restore
     VLDMIA  sp!, {D0-D15}                       ; Recover D0-D15
     VLDMIA  sp!, {D16-D31}                      ; Recover D16-D31
     LDR     r4, [sp], #4                        ; Pickup FPSCR
     VMSR    FPSCR, r4                           ; Restore FPSCR
+    CPS     #SVC_MODE                           ; Enter SVC mode
+    LDR     lr, [r1, #0x144]                    ; Get thread PC
+    CPS     #SYS_MODE                           ; Enter SYS mode
 _tx_skip_interrupt_vfp_restore
     ENDIF
-    LDMIA   sp!, {r0-r12, lr, pc}^              ; Return to point of thread interrupt
+    
+    LDMIA   sp!, {r0-r12, lr}               ; Restore registers
+    ADD     sp, sp, #4                      ; Fix stack pointer
+    CPS     #SVC_MODE                       ; Enter SVC mode
+    SUBS    pc, lr, #0                      ; Return to point of thread interrupt
 
 _tx_solicited_return
-
+    MOV     r2, r5                          ; Move CPSR to scratch register
+    CPS     #SYS_MODE                       ; Enter SYS mode
+    
     IF  {TARGET_FPU_VFP} = {TRUE}
     LDR     r1, [r0, #144]                      ; Pickup the VFP enabled flag
     CMP     r1, #0                              ; Is the VFP enabled?
@@ -201,16 +431,15 @@
     VMSR    FPSCR, r4                           ; Restore FPSCR
 _tx_skip_solicited_vfp_restore
     ENDIF
-    MSR     CPSR_cxsf, r5                       ; Recover CPSR
-    LDMIA   sp!, {r4-r11, lr}                   ; Return to thread synchronously
-    IF  {INTER} = {TRUE}
-    BX      lr                                  ; Return to caller
-    ELSE
-    MOV     pc, lr                              ; Return to caller
-    ENDIF
-;
-;}
-;
+    
+    LDMIA   sp!, {r4-r11, lr}               ; Restore registers
+    MOV     r1, lr                          ; Copy lr to r1 to preserve across mode change
+    CPS     #SVC_MODE                       ; Enter SVC mode
+    MSR     SPSR_cxsf, r2                   ; Recover CPSR
+    SUBS    pc, r1, #0                      ; Return to thread synchronously
+
+; End of __tx_handler_swi
+
 
     IF  {TARGET_FPU_VFP} = {TRUE}
     EXPORT  tx_thread_vfp_enable
@@ -246,9 +475,11 @@
     MOV     r0, #0                              ; Build disable value
     STR     r0, [r1, #144]                      ; Clear the VFP enable flag (tx_thread_vfp_enable field in TX_THREAD)
 __tx_no_thread_to_disable
-    MSR     CPSR_cxsf, r2                       ;   Recover CPSR
+    MSR     CPSR_cxsf, r2                       ; Recover CPSR
     BX      LR                                  ; Return to caller
     ENDIF
-
+err_fatal_asid
+	B	data_abort_vector   
+		
     END
 
diff -au --ignore-file-name-case orig/tx_thread_shell_entry.c modified/tx_thread_shell_entry.c
--- orig/tx_thread_shell_entry.c	2023-11-06 03:51:44.521811500 -0800
+++ modified/tx_thread_shell_entry.c	2023-11-06 03:51:44.522815100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_shell_entry                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -121,10 +121,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_thread_shell_entry(VOID)
diff -au --ignore-file-name-case orig/tx_thread_sleep.c modified/tx_thread_sleep.c
--- orig/tx_thread_sleep.c	2023-11-06 03:51:44.522815100 -0800
+++ modified/tx_thread_sleep.c	2023-11-06 03:51:44.522815100 -0800
@@ -21,6 +21,10 @@
 /*                                                                        */
 /**************************************************************************/
 
+/*==============================================================================
+  Copyright (c) 2020 Qualcomm Technologies, Inc.
+  All rights reserved. Qualcomm Proprietary and Confidential.
+==============================================================================*/
 
 /**************************************************************************/
 /**************************************************************************/
@@ -123,6 +127,7 @@
 TX_INTERRUPT_SAVE_AREA
 
 UINT            status;
+UINT 			isDefTimer = 0;
 TX_THREAD       *thread_ptr;
 
 
@@ -132,6 +137,11 @@
     /* Pickup thread pointer.  */
     TX_THREAD_GET_CURRENT(thread_ptr)
 
+	if( (timer_ticks != TX_WAIT_FOREVER) && (timer_ticks & TX_DEFERABLE_TIMER)){
+		isDefTimer = 1;
+		timer_ticks = timer_ticks & ((ULONG)(~TX_DEFERABLE_TIMER));
+	}
+
     /* Determine if this is a legal request.  */
 
     /* Is there a current thread?  */
@@ -224,6 +234,9 @@
 
             /* Setup the timeout period.  */
             thread_ptr -> tx_thread_timer.tx_timer_internal_remaining_ticks =  timer_ticks;
+		if(isDefTimer == 1){
+			thread_ptr -> tx_thread_timer.tx_timer_internal_re_initialize_ticks |= TX_DEFERABLE_TIMER;
+		}
 
             /* Temporarily disable preemption.  */
             _tx_thread_preempt_disable++;
diff -au --ignore-file-name-case orig/tx_thread_stack_build.s modified/tx_thread_stack_build.S
--- orig/tx_thread_stack_build.s	2023-11-06 03:51:44.523818700 -0800
+++ modified/tx_thread_stack_build.S	2023-11-06 03:51:44.523818700 -0800
@@ -43,11 +43,14 @@
 ;
 ;
 SVC_MODE        EQU     0x13                    ; SVC mode
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef TX3_CHANGES
+SYS_MODE        EQU     0x1F                    ; SYS mode
+#endif
+    #ifdef TX_ENABLE_FIQ_SUPPORT
 CPSR_MASK       EQU     0xDF                    ; Mask initial CPSR, IRQ & FIQ ints enabled
-    ELSE
+    #else
 CPSR_MASK       EQU     0x9F                    ; Mask initial CPSR, IRQ ints enabled
-    ENDIF
+    #endif
 
 THUMB_BIT       EQU     0x20                    ; Thumb-bit
 
@@ -161,7 +164,11 @@
 
     MRS     r3, CPSR                            ; Pickup CPSR
     BIC     r3, r3, #CPSR_MASK                  ; Mask mode bits of CPSR
+#ifdef TX3_CHANGES
+    ORR     r3, r3, #SYS_MODE                   ; Build CPSR, SYS mode, interrupts enabled
+#else
     ORR     r3, r3, #SVC_MODE                   ; Build CPSR, SVC mode, interrupts enabled
+#endif
     BIC     r3, r3, #THUMB_BIT                  ; Clear Thumb-bit by default
     AND     r1, r1, #1                          ; Determine if the entry function is in Thumb mode
     CMP     r1, #1                              ; Is the Thumb-bit set?
diff -au --ignore-file-name-case orig/tx_thread_stack_error_handler.c modified/tx_thread_stack_error_handler.c
--- orig/tx_thread_stack_error_handler.c	2023-11-06 03:51:44.524822300 -0800
+++ modified/tx_thread_stack_error_handler.c	2023-11-06 03:51:44.524822300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_stack_error_handler                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -100,10 +100,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_thread_stack_error_handler(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/tx_thread_stack_error_notify.c modified/tx_thread_stack_error_notify.c
--- orig/tx_thread_stack_error_notify.c	2023-11-06 03:51:44.524822300 -0800
+++ modified/tx_thread_stack_error_notify.c	2023-11-06 03:51:44.525825900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_stack_error_notify                       PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -108,10 +108,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_stack_error_notify(VOID (*stack_error_handler)(TX_THREAD *thread_ptr))
diff -au --ignore-file-name-case orig/tx_thread_system_preempt_check.c modified/tx_thread_system_preempt_check.c
--- orig/tx_thread_system_preempt_check.c	2023-11-06 03:51:44.525825900 -0800
+++ modified/tx_thread_system_preempt_check.c	2023-11-06 03:51:44.525825900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_system_preempt_check                     PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -110,10 +110,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_thread_system_preempt_check(VOID)
diff -au --ignore-file-name-case orig/tx_thread_system_return.s modified/tx_thread_system_return.S
--- orig/tx_thread_system_return.s	2023-11-06 03:51:44.526829500 -0800
+++ modified/tx_thread_system_return.S	2023-11-06 03:51:44.526829500 -0800
@@ -45,9 +45,9 @@
     IMPORT      _tx_thread_current_ptr
     IMPORT      _tx_timer_time_slice
     IMPORT      _tx_thread_schedule
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef	TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT      _tx_execution_thread_exit        
-    ENDIF
+#endif
 ;
 ;
         AREA ||.text||, CODE, READONLY
@@ -107,8 +107,9 @@
 ;
     STMDB   sp!, {r4-r11, lr}                   ; Save minimal context
     LDR     r5, =_tx_thread_current_ptr         ; Pickup address of current ptr
-    LDR     r6, [r5, #0]                        ; Pickup current thread pointer
-
+    LDR     r6, [r5, #0]                        ; Pickup current thread pointer	
+	CMP     r6, #0 
+	BEQ		__tx_thread_dont_save_ts
     IF  {TARGET_FPU_VFP} = {TRUE}
     LDR     r0, [r6, #144]                      ; Pickup the VFP enabled flag
     CMP     r0, #0                              ; Is the VFP enabled?
@@ -126,18 +127,19 @@
 ;   
 ;   /* Lockout interrupts.  */
 ;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef TX_ENABLE_FIQ_SUPPORT
     CPSID   if                                  ; Disable IRQ and FIQ interrupts
-    ELSE
+#else
     CPSID   i                                   ; Disable IRQ interrupts
-    ENDIF
+#endif
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the thread exit function to indicate the thread is no longer executing.  */
 ;
     BL      _tx_execution_thread_exit           ; Call the thread exit function
-    ENDIF
+#endif
+
     LDR     r2, =_tx_timer_time_slice           ; Pickup address of time slice
     LDR     r1, [r2, #0]                        ; Pickup current time slice
 ;
diff -au --ignore-file-name-case orig/tx_thread_terminate.c modified/tx_thread_terminate.c
--- orig/tx_thread_terminate.c	2023-11-06 03:51:44.526829500 -0800
+++ modified/tx_thread_terminate.c	2023-11-06 03:51:44.527833100 -0800
@@ -42,6 +42,9 @@
 #include "tx_thread.h"
 #include "tx_timer.h"
 
+/* Extern functions */
+
+void deallocate_kernelstack_thread(TX_THREAD *thread_ptr);
 
 /**************************************************************************/ 
 /*                                                                        */ 
@@ -74,6 +77,8 @@
 /*    _tx_thread_system_ni_suspend          Non-interruptable suspend     */ 
 /*                                            thread                      */ 
 /*    _tx_thread_system_preempt_check       Check for preemption          */ 
+/*    deallocate_kernelstack_thread         Frees QAPI Kernel stack       */ 
+/*                                            if in use                   */ 
 /*    Suspend Cleanup Routine               Suspension cleanup function   */ 
 /*                                                                        */ 
 /*  CALLED BY                                                             */ 
@@ -345,6 +350,9 @@
         TX_DISABLE       
 #endif
 
+        /* Deallocate kernel stack if allocated as part of QAPI */
+        deallocate_kernelstack_thread(thread_ptr);
+
         /* Enable preemption.  */
         _tx_thread_preempt_disable--;
 
diff -au --ignore-file-name-case orig/tx_thread_time_slice.c modified/tx_thread_time_slice.c
--- orig/tx_thread_time_slice.c	2023-11-06 03:51:44.527833100 -0800
+++ modified/tx_thread_time_slice.c	2023-11-06 03:51:44.527833100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_time_slice                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -113,10 +113,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_thread_time_slice(VOID)
diff -au --ignore-file-name-case orig/tx_thread_time_slice_change.c modified/tx_thread_time_slice_change.c
--- orig/tx_thread_time_slice_change.c	2023-11-06 03:51:44.528836700 -0800
+++ modified/tx_thread_time_slice_change.c	2023-11-06 03:51:44.528836700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_thread_time_slice_change                        PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_thread_time_slice_change(TX_THREAD *thread_ptr, ULONG new_time_slice, ULONG *old_time_slice)
diff -au --ignore-file-name-case orig/tx_thread_vectored_context_save.s modified/tx_thread_vectored_context_save.S
--- orig/tx_thread_vectored_context_save.s	2023-11-06 03:51:44.529840300 -0800
+++ modified/tx_thread_vectored_context_save.S	2023-11-06 03:51:44.529840300 -0800
@@ -44,9 +44,9 @@
 ;
     IMPORT      _tx_thread_system_state
     IMPORT      _tx_thread_current_ptr
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef	TX_ENABLE_EXECUTION_CHANGE_NOTIFY
     IMPORT      _tx_execution_isr_enter
-    ENDIF
+#endif
 ;
 ;
         AREA ||.text||, CODE, READONLY
@@ -106,9 +106,9 @@
 ;    if (_tx_thread_system_state++)
 ;    {
 ;
-    IF :DEF:TX_ENABLE_FIQ_SUPPORT
+#ifdef TX_ENABLE_FIQ_SUPPORT
     CPSID   if                                  ; Disable IRQ and FIQ interrupts
-    ENDIF
+#endif
     LDR     r3, =_tx_thread_system_state        ; Pickup address of system state var
     LDR     r2, [r3, #0]                        ; Pickup system state
     CMP     r2, #0                              ; Is this the first interrupt?
@@ -125,15 +125,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
-
+#endif
     IF  {INTER} = {TRUE}
     BX      lr                                  ; Return to caller
     ELSE
@@ -165,15 +164,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
-
+#endif
     IF  {INTER} = {TRUE}
     BX      lr                                  ; Return to caller
     ELSE
@@ -193,14 +191,14 @@
 ;
     MOV     r10, #0                             ; Clear stack limit
 
-    IF :DEF:TX_ENABLE_EXECUTION_CHANGE_NOTIFY
+#ifdef TX_ENABLE_EXECUTION_CHANGE_NOTIFY
 ;
 ;    /* Call the ISR enter function to indicate an ISR is executing.  */
 ;
     PUSH    {lr}                                ; Save ISR lr
     BL      _tx_execution_isr_enter             ; Call the ISR enter function
     POP     {lr}                                ; Recover ISR lr
-    ENDIF
+#endif
 
     ADD     sp, sp, #32                         ; Recover saved registers
     IF  {INTER} = {TRUE}
@@ -211,6 +209,5 @@
 ;
 ;    }
 ;}
-;
     END
 
diff -au --ignore-file-name-case orig/tx_time_get.c modified/tx_time_get.c
--- orig/tx_time_get.c	2023-11-06 03:51:44.529840300 -0800
+++ modified/tx_time_get.c	2023-11-06 03:51:44.530843900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_time_get                                        PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 ULONG  _tx_time_get(VOID)
diff -au --ignore-file-name-case orig/tx_time_set.c modified/tx_time_set.c
--- orig/tx_time_set.c	2023-11-06 03:51:44.530843900 -0800
+++ modified/tx_time_set.c	2023-11-06 03:51:44.531847500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_time_set                                        PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_time_set(ULONG new_time)
diff -au --ignore-file-name-case orig/tx_timer_change.c modified/tx_timer_change.c
--- orig/tx_timer_change.c	2023-11-06 03:51:44.531847500 -0800
+++ modified/tx_timer_change.c	2023-11-06 03:51:44.531847500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_timer_change                                    PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_timer_change(TX_TIMER *timer_ptr, ULONG initial_ticks, ULONG reschedule_ticks)
diff -au --ignore-file-name-case orig/tx_timer_expiration_process.c modified/tx_timer_expiration_process.c
--- orig/tx_timer_expiration_process.c	2023-11-06 03:51:44.532851100 -0800
+++ modified/tx_timer_expiration_process.c	2023-11-06 03:51:44.532851100 -0800
@@ -363,7 +363,10 @@
                         timeout_param =     current_timer -> tx_timer_internal_timeout_param;
 
                         /* Copy the reinitialize ticks into the remaining ticks.  */
-                        current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks;
+						if(current_timer -> tx_timer_internal_re_initialize_ticks != TX_WAIT_FOREVER)
+                        	current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks & ((ULONG)(~TX_DEFERABLE_TIMER));
+						else
+							current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks;
 
                         /* Determine if the timer should be reactivated.  */
                         if (current_timer -> tx_timer_internal_remaining_ticks != ((ULONG) 0))
diff -au --ignore-file-name-case orig/tx_timer_info_get.c modified/tx_timer_info_get.c
--- orig/tx_timer_info_get.c	2023-11-06 03:51:44.532851100 -0800
+++ modified/tx_timer_info_get.c	2023-11-06 03:51:44.533854700 -0800
@@ -270,7 +270,7 @@
     if (reschedule_ticks != TX_NULL)
     {
     
-        *reschedule_ticks =  internal_ptr -> tx_timer_internal_re_initialize_ticks;
+        *reschedule_ticks =  internal_ptr -> tx_timer_internal_re_initialize_ticks & ((ULONG)(~TX_DEFERABLE_TIMER));
     }
     
     /* Pickup the next created application timer.  */
diff -au --ignore-file-name-case orig/tx_timer_interrupt.s modified/tx_timer_interrupt.S
--- orig/tx_timer_interrupt.s	2023-11-06 03:51:44.533854700 -0800
+++ modified/tx_timer_interrupt.S	2023-11-06 03:51:44.533854700 -0800
@@ -1,6 +1,6 @@
 ;/**************************************************************************/ 
 ;/*                                                                        */ 
-;/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
+;/*            Copyright (c) 1996-2016 by Express Logic Inc.               */ 
 ;/*                                                                        */ 
 ;/*  This software is copyrighted by and is the sole property of Express   */ 
 ;/*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -44,25 +44,24 @@
 ;
 ;Define Assembly language external references...
 ;
-    IMPORT      _tx_timer_time_slice
-    IMPORT      _tx_timer_system_clock
-    IMPORT      _tx_timer_current_ptr
-    IMPORT      _tx_timer_list_start
-    IMPORT      _tx_timer_list_end
-    IMPORT      _tx_timer_expired_time_slice
-    IMPORT      _tx_timer_expired
-    IMPORT      _tx_thread_time_slice
-    IMPORT      _tx_timer_expiration_process
+    EXTERN      _tx_timer_time_slice
+    EXTERN      _tx_timer_system_clock
+    EXTERN      _tx_timer_current_ptr
+    EXTERN      _tx_timer_list_start
+    EXTERN      _tx_timer_list_end
+    EXTERN      _tx_timer_expired_time_slice
+    EXTERN      _tx_timer_expired
+    EXTERN      _tx_thread_time_slice
+    EXTERN      _tx_timer_expiration_process
+;
 ;
 ;
-        AREA ||.text||, CODE, READONLY
-        PRESERVE8
 ;/**************************************************************************/ 
 ;/*                                                                        */ 
 ;/*  FUNCTION                                               RELEASE        */ 
 ;/*                                                                        */ 
-;/*    _tx_timer_interrupt                                Cortex-A7/ARM    */ 
-;/*                                                           5.2          */ 
+;/*    _tx_timer_interrupt                               Cortex-A7/IAR     */ 
+;/*                                                           5.0          */ 
 ;/*  AUTHOR                                                                */ 
 ;/*                                                                        */ 
 ;/*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -86,7 +85,7 @@
 ;/*  CALLS                                                                 */ 
 ;/*                                                                        */ 
 ;/*    _tx_timer_expiration_process          Timer expiration processing   */ 
-;/*    _tx_thread_time_slice                 Time slice interrupted thread */ 
+;/*    _tx_thread_time_slice                 Time-slice interrupted thread */ 
 ;/*                                                                        */ 
 ;/*  CALLED BY                                                             */ 
 ;/*                                                                        */ 
@@ -96,16 +95,15 @@
 ;/*                                                                        */ 
 ;/*    DATE              NAME                      DESCRIPTION             */ 
 ;/*                                                                        */ 
-;/*  11-01-2013     William E. Lamie         Initial Version 5.0           */ 
-;/*  01-01-2014     William E. Lamie         Modified comment(s),          */ 
-;/*                                            resulting in version 5.1    */ 
-;/*  03-01-2015     William E. Lamie         Modified comment(s),          */ 
-;/*                                            resulting in version 5.2    */ 
+;/*  03-01-2016     William E. Lamie         Initial Version 5.0           */ 
 ;/*                                                                        */ 
 ;/**************************************************************************/ 
 ;VOID   _tx_timer_interrupt(VOID)
 ;{
+;    RSEG    .text:CODE:NOROOT(2)
     EXPORT  _tx_timer_interrupt
+    AREA ||.text||, CODE, READONLY
+    CODE32
 _tx_timer_interrupt
 ;
 ;    /* Upon entry to this routine, it is assumed that context save has already
@@ -256,6 +254,7 @@
 ;
 __tx_timer_not_ts_expiration
 ;
+;
     LDMIA   sp!, {r0, lr}                       ; Recover lr register (r0 is just there for
                                                 ;   the 8-byte stack alignment
 ;
@@ -263,11 +262,11 @@
 ;
 __tx_timer_nothing_expired
 ;
-    IF  {INTER} = {TRUE}
+#ifdef TX_THUMB
     BX      lr                                  ; Return to caller
-    ELSE
+#else
     MOV     pc, lr                              ; Return to caller
-    ENDIF
+#endif
 ;
 ;}
     END
diff -au --ignore-file-name-case orig/tx_timer_performance_info_get.c modified/tx_timer_performance_info_get.c
--- orig/tx_timer_performance_info_get.c	2023-11-06 03:51:44.534858300 -0800
+++ modified/tx_timer_performance_info_get.c	2023-11-06 03:51:44.534858300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_timer_performance_info_get                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -117,10 +117,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_timer_performance_info_get(TX_TIMER *timer_ptr, ULONG *activates, ULONG *reactivates,
diff -au --ignore-file-name-case orig/tx_timer_performance_system_info_get.c modified/tx_timer_performance_system_info_get.c
--- orig/tx_timer_performance_system_info_get.c	2023-11-06 03:51:44.534858300 -0800
+++ modified/tx_timer_performance_system_info_get.c	2023-11-06 03:51:44.535861900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_timer_performance_system_info_get               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -113,10 +113,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_timer_performance_system_info_get(ULONG *activates, ULONG *reactivates,
diff -au --ignore-file-name-case orig/tx_timer_thread_entry.c modified/tx_timer_thread_entry.c
--- orig/tx_timer_thread_entry.c	2023-11-06 03:51:44.535861900 -0800
+++ modified/tx_timer_thread_entry.c	2023-11-06 03:51:44.536865500 -0800
@@ -321,7 +321,10 @@
                     timeout_param =     current_timer -> tx_timer_internal_timeout_param;
 
                     /* Copy the reinitialize ticks into the remaining ticks.  */
-                    current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks;
+                    if(current_timer -> tx_timer_internal_re_initialize_ticks != TX_WAIT_FOREVER )
+                    	current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks & ((ULONG)(~TX_DEFERABLE_TIMER));
+					else
+						current_timer -> tx_timer_internal_remaining_ticks =  current_timer -> tx_timer_internal_re_initialize_ticks;
 
                     /* Determine if the timer should be reactivated.  */
                     if (current_timer -> tx_timer_internal_remaining_ticks != ((ULONG) 0))
diff -au --ignore-file-name-case orig/tx_trace.h modified/tx_trace.h
--- orig/tx_trace.h	2023-11-06 03:51:44.587045400 -0800
+++ modified/tx_trace.h	2023-11-06 03:51:44.588049500 -0800
@@ -410,8 +410,8 @@
 {
 
     ULONG                                                   tx_trace_buffer_entry_thread_pointer;
-    ULONG                                                   tx_trace_buffer_entry_thread_priority;
     ULONG                                                   tx_trace_buffer_entry_event_id;
+	ULONG                                                   tx_trace_buffer_entry_time_stamp_high;
     ULONG                                                   tx_trace_buffer_entry_time_stamp;
 #ifdef TX_MISRA_ENABLE
     ULONG                                                   tx_trace_buffer_entry_info_1;
@@ -522,31 +522,38 @@
         ULONG                      trace_system_state; \
         ULONG                      trace_priority; \
         TX_THREAD                 *trace_thread_ptr; \
+		int							flag_exit ;	\
             trace_event_ptr =  _tx_trace_buffer_current_ptr; \
             if ((trace_event_ptr) && (_tx_trace_event_enable_bits & ((ULONG) (e)))) \
             { \
                 TX_TRACE_PORT_EXTENSION \
                 trace_system_state =  (ULONG) TX_THREAD_GET_SYSTEM_STATE(); \
-                TX_THREAD_GET_CURRENT(trace_thread_ptr) \
-                \
-                if (trace_system_state == 0) \
-                { \
-                    trace_priority =  trace_thread_ptr -> tx_thread_priority; \
-                    trace_priority =  trace_priority | 0x80000000UL | (trace_thread_ptr -> tx_thread_preempt_threshold << 16); \
-                } \
+                if(i==TX_TRACE_RUNNING)	\
+					trace_thread_ptr =    (TX_THREAD *)a;	\
+				else	\
+                	TX_THREAD_GET_CURRENT(trace_thread_ptr) \
+                if (trace_system_state == 0){}\
                 else if (trace_system_state < 0xF0F0F0F0UL) \
                 { \
-                    trace_priority =    (ULONG) trace_thread_ptr; \
                     trace_thread_ptr =  (TX_THREAD *) 0xFFFFFFFFUL; \
                 } \
                 else \
                 { \
                     trace_thread_ptr =  (TX_THREAD *) 0xF0F0F0F0UL; \
-                    trace_priority =    0; \
                 } \
+				flag_exit = 0;\
+                if((i == TX_TRACE_MUTEX_GET)&& ((c==NULL) || (c==(unsigned int)trace_thread_ptr))) flag_exit=1;	\
+				else if(i == TX_TRACE_MUTEX_PUT && c<=0 ) flag_exit=1;	\
+				else if((i == TX_TRACE_EVENT_FLAGS_GET) && (d==TX_OR) &&((b&c) != 0) ) flag_exit=1;	\
+				else if(i == TX_TRACE_EVENT_FLAGS_GET && (d==TX_AND) &&((b&c) != b) ) flag_exit=1;	\
+				else if(i == TX_TRACE_EVENT_FLAGS_SET && (d == 0) ) flag_exit=1;	\
+				else if((i == TX_TRACE_THREAD_SUSPEND) && ((unsigned int)trace_thread_ptr != (unsigned int)a)) flag_exit=1;	\
+				else if((i == TX_TRACE_THREAD_RESUME) && ((unsigned int)trace_thread_ptr == (unsigned int)a))  flag_exit=1; \
+				else if(i == TX_TRACE_THREAD_IDENTIFY) flag_exit=1; \
+				if(flag_exit == 0){  \
                 trace_event_ptr -> tx_trace_buffer_entry_thread_pointer =       (ULONG) trace_thread_ptr; \
-                trace_event_ptr -> tx_trace_buffer_entry_thread_priority =      (ULONG) trace_priority; \
                 trace_event_ptr -> tx_trace_buffer_entry_event_id =             (ULONG) (i); \
+				trace_event_ptr -> tx_trace_buffer_entry_time_stamp_high =      (ULONG) TX_TRACE_TIME_SOURCE_HIGH; \
                 trace_event_ptr -> tx_trace_buffer_entry_time_stamp =           (ULONG) TX_TRACE_TIME_SOURCE; \
                 TX_TRACE_INFO_FIELD_ASSIGNMENT((a),(b),(c),(d)) \
                 trace_event_ptr++; \
@@ -563,8 +570,10 @@
                     _tx_trace_buffer_current_ptr =  trace_event_ptr;  \
                     _tx_trace_header_ptr -> tx_trace_header_buffer_current_pointer =  (ULONG) trace_event_ptr; \
                 } \
-            } \
-        }
+				} \
+			} \
+        }	
+        
 #endif
 #endif
 
diff -au --ignore-file-name-case orig/tx_trace_buffer_full_notify.c modified/tx_trace_buffer_full_notify.c
--- orig/tx_trace_buffer_full_notify.c	2023-11-06 03:51:44.536865500 -0800
+++ modified/tx_trace_buffer_full_notify.c	2023-11-06 03:51:44.536865500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_buffer_full_notify                        PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_buffer_full_notify(VOID (*full_buffer_callback)(VOID *buffer))
diff -au --ignore-file-name-case orig/tx_trace_disable.c modified/tx_trace_disable.c
--- orig/tx_trace_disable.c	2023-11-06 03:51:44.537869100 -0800
+++ modified/tx_trace_disable.c	2023-11-06 03:51:44.537869100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_disable                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -92,10 +92,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_disable(VOID)
diff -au --ignore-file-name-case orig/tx_trace_event_filter.c modified/tx_trace_event_filter.c
--- orig/tx_trace_event_filter.c	2023-11-06 03:51:44.537869100 -0800
+++ modified/tx_trace_event_filter.c	2023-11-06 03:51:44.538872700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_event_filter                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -95,10 +95,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_event_filter(ULONG event_filter_bits)
diff -au --ignore-file-name-case orig/tx_trace_event_unfilter.c modified/tx_trace_event_unfilter.c
--- orig/tx_trace_event_unfilter.c	2023-11-06 03:51:44.538872700 -0800
+++ modified/tx_trace_event_unfilter.c	2023-11-06 03:51:44.538872700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_event_unfilter                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -95,10 +95,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_event_unfilter(ULONG event_unfilter_bits)
diff -au --ignore-file-name-case orig/tx_trace_initialize.c modified/tx_trace_initialize.c
--- orig/tx_trace_initialize.c	2023-11-06 03:51:44.539876300 -0800
+++ modified/tx_trace_initialize.c	2023-11-06 03:51:44.539876300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -112,7 +112,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_initialize                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -159,10 +159,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_trace_initialize(VOID)
diff -au --ignore-file-name-case orig/tx_trace_interrupt_control.c modified/tx_trace_interrupt_control.c
--- orig/tx_trace_interrupt_control.c	2023-11-06 03:51:44.539876300 -0800
+++ modified/tx_trace_interrupt_control.c	2023-11-06 03:51:44.540880400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_interrupt_control                         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_interrupt_control(UINT new_posture)
diff -au --ignore-file-name-case orig/tx_trace_isr_enter_insert.c modified/tx_trace_isr_enter_insert.c
--- orig/tx_trace_isr_enter_insert.c	2023-11-06 03:51:44.540880400 -0800
+++ modified/tx_trace_isr_enter_insert.c	2023-11-06 03:51:44.541883500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_isr_enter_insert                          PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_trace_isr_enter_insert(ULONG isr_id)
diff -au --ignore-file-name-case orig/tx_trace_isr_exit_insert.c modified/tx_trace_isr_exit_insert.c
--- orig/tx_trace_isr_exit_insert.c	2023-11-06 03:51:44.541883500 -0800
+++ modified/tx_trace_isr_exit_insert.c	2023-11-06 03:51:44.541883500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_isr_exit_insert                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _tx_trace_isr_exit_insert(ULONG isr_id)
diff -au --ignore-file-name-case orig/tx_trace_user_event_insert.c modified/tx_trace_user_event_insert.c
--- orig/tx_trace_user_event_insert.c	2023-11-06 03:51:44.542887100 -0800
+++ modified/tx_trace_user_event_insert.c	2023-11-06 03:51:44.542887100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_trace_user_event_insert                         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _tx_trace_user_event_insert(ULONG event_id, ULONG info_field_1, ULONG info_field_2, ULONG info_field_3, ULONG info_field_4)
diff -au --ignore-file-name-case orig/txe_block_allocate.c modified/txe_block_allocate.c
--- orig/txe_block_allocate.c	2023-11-06 03:51:44.542887100 -0800
+++ modified/txe_block_allocate.c	2023-11-06 03:51:44.543890700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_block_allocate                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -108,10 +108,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_block_allocate(TX_BLOCK_POOL *pool_ptr, VOID **block_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_block_pool_create.c modified/txe_block_pool_create.c
--- orig/txe_block_pool_create.c	2023-11-06 03:51:44.543890700 -0800
+++ modified/txe_block_pool_create.c	2023-11-06 03:51:44.544894300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_block_pool_create                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -115,10 +115,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_block_pool_create(TX_BLOCK_POOL *pool_ptr, CHAR *name_ptr, ULONG block_size,
diff -au --ignore-file-name-case orig/txe_block_pool_delete.c modified/txe_block_pool_delete.c
--- orig/txe_block_pool_delete.c	2023-11-06 03:51:44.544894300 -0800
+++ modified/txe_block_pool_delete.c	2023-11-06 03:51:44.544894300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_block_pool_delete                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT    _txe_block_pool_delete(TX_BLOCK_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/txe_block_pool_info_get.c modified/txe_block_pool_info_get.c
--- orig/txe_block_pool_info_get.c	2023-11-06 03:51:44.545897900 -0800
+++ modified/txe_block_pool_info_get.c	2023-11-06 03:51:44.545897900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_block_pool_info_get                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -105,10 +105,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_block_pool_info_get(TX_BLOCK_POOL *pool_ptr, CHAR **name, ULONG *available_blocks, 
diff -au --ignore-file-name-case orig/txe_block_pool_prioritize.c modified/txe_block_pool_prioritize.c
--- orig/txe_block_pool_prioritize.c	2023-11-06 03:51:44.545897900 -0800
+++ modified/txe_block_pool_prioritize.c	2023-11-06 03:51:44.546901500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_block_pool_prioritize                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_block_pool_prioritize(TX_BLOCK_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/txe_byte_allocate.c modified/txe_byte_allocate.c
--- orig/txe_byte_allocate.c	2023-11-06 03:51:44.546901500 -0800
+++ modified/txe_byte_allocate.c	2023-11-06 03:51:44.546901500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_byte_allocate                                  PORTABLE C      */ 
-/*                                                           5.9          */  
+/*                                                           5.7          */  
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -113,10 +113,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_allocate(TX_BYTE_POOL *pool_ptr, VOID **memory_ptr, 
diff -au --ignore-file-name-case orig/txe_byte_pool_create.c modified/txe_byte_pool_create.c
--- orig/txe_byte_pool_create.c	2023-11-06 03:51:44.547905100 -0800
+++ modified/txe_byte_pool_create.c	2023-11-06 03:51:44.547905100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_byte_pool_create                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -114,10 +114,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_pool_create(TX_BYTE_POOL *pool_ptr, CHAR *name_ptr, VOID *pool_start, ULONG pool_size, UINT pool_control_block_size)
diff -au --ignore-file-name-case orig/txe_byte_pool_delete.c modified/txe_byte_pool_delete.c
--- orig/txe_byte_pool_delete.c	2023-11-06 03:51:44.548908700 -0800
+++ modified/txe_byte_pool_delete.c	2023-11-06 03:51:44.548908700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_byte_pool_delete                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_pool_delete(TX_BYTE_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/txe_byte_pool_info_get.c modified/txe_byte_pool_info_get.c
--- orig/txe_byte_pool_info_get.c	2023-11-06 03:51:44.548908700 -0800
+++ modified/txe_byte_pool_info_get.c	2023-11-06 03:51:44.549912300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_byte_pool_info_get                             PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -105,10 +105,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_pool_info_get(TX_BYTE_POOL *pool_ptr, CHAR **name, ULONG *available_bytes, 
diff -au --ignore-file-name-case orig/txe_byte_pool_prioritize.c modified/txe_byte_pool_prioritize.c
--- orig/txe_byte_pool_prioritize.c	2023-11-06 03:51:44.549912300 -0800
+++ modified/txe_byte_pool_prioritize.c	2023-11-06 03:51:44.549912300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_byte_pool_prioritize                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_pool_prioritize(TX_BYTE_POOL *pool_ptr)
diff -au --ignore-file-name-case orig/txe_byte_release.c modified/txe_byte_release.c
--- orig/txe_byte_release.c	2023-11-06 03:51:44.550915900 -0800
+++ modified/txe_byte_release.c	2023-11-06 03:51:44.550915900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_byte_release                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -105,10 +105,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_byte_release(VOID *memory_ptr)
diff -au --ignore-file-name-case orig/txe_event_flags_create.c modified/txe_event_flags_create.c
--- orig/txe_event_flags_create.c	2023-11-06 03:51:44.550915900 -0800
+++ modified/txe_event_flags_create.c	2023-11-06 03:51:44.551919500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_create                             PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_create(TX_EVENT_FLAGS_GROUP *group_ptr, CHAR *name_ptr, UINT event_control_block_size)
diff -au --ignore-file-name-case orig/txe_event_flags_delete.c modified/txe_event_flags_delete.c
--- orig/txe_event_flags_delete.c	2023-11-06 03:51:44.551919500 -0800
+++ modified/txe_event_flags_delete.c	2023-11-06 03:51:44.551919500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_delete                             PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_delete(TX_EVENT_FLAGS_GROUP *group_ptr)
diff -au --ignore-file-name-case orig/txe_event_flags_get.c modified/txe_event_flags_get.c
--- orig/txe_event_flags_get.c	2023-11-06 03:51:44.552923100 -0800
+++ modified/txe_event_flags_get.c	2023-11-06 03:51:44.552923100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_get                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -112,10 +112,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_get(TX_EVENT_FLAGS_GROUP *group_ptr, ULONG requested_flags,
diff -au --ignore-file-name-case orig/txe_event_flags_info_get.c modified/txe_event_flags_info_get.c
--- orig/txe_event_flags_info_get.c	2023-11-06 03:51:44.553926700 -0800
+++ modified/txe_event_flags_info_get.c	2023-11-06 03:51:44.553926700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_info_get                           PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -107,10 +107,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_info_get(TX_EVENT_FLAGS_GROUP *group_ptr, CHAR **name, ULONG *current_flags, 
diff -au --ignore-file-name-case orig/txe_event_flags_set.c modified/txe_event_flags_set.c
--- orig/txe_event_flags_set.c	2023-11-06 03:51:44.553926700 -0800
+++ modified/txe_event_flags_set.c	2023-11-06 03:51:44.554930300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_set                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_set(TX_EVENT_FLAGS_GROUP *group_ptr, ULONG flags_to_set, UINT set_option)
diff -au --ignore-file-name-case orig/txe_event_flags_set_notify.c modified/txe_event_flags_set_notify.c
--- orig/txe_event_flags_set_notify.c	2023-11-06 03:51:44.554930300 -0800
+++ modified/txe_event_flags_set_notify.c	2023-11-06 03:51:44.555934400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_event_flags_set_notify                         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -99,10 +99,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_event_flags_set_notify(TX_EVENT_FLAGS_GROUP *group_ptr, VOID (*events_set_notify)(TX_EVENT_FLAGS_GROUP *notify_group_ptr))
diff -au --ignore-file-name-case orig/txe_mutex_create.c modified/txe_mutex_create.c
--- orig/txe_mutex_create.c	2023-11-06 03:51:44.555934400 -0800
+++ modified/txe_mutex_create.c	2023-11-06 03:51:44.555934400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_mutex_create                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_create(TX_MUTEX *mutex_ptr, CHAR *name_ptr, UINT inherit, UINT mutex_control_block_size)
diff -au --ignore-file-name-case orig/txe_mutex_delete.c modified/txe_mutex_delete.c
--- orig/txe_mutex_delete.c	2023-11-06 03:51:44.556937500 -0800
+++ modified/txe_mutex_delete.c	2023-11-06 03:51:44.556937500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_mutex_delete                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_delete(TX_MUTEX *mutex_ptr)
diff -au --ignore-file-name-case orig/txe_mutex_get.c modified/txe_mutex_get.c
--- orig/txe_mutex_get.c	2023-11-06 03:51:44.556937500 -0800
+++ modified/txe_mutex_get.c	2023-11-06 03:51:44.557941100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -51,7 +51,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_mutex_get                                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_get(TX_MUTEX *mutex_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_mutex_info_get.c modified/txe_mutex_info_get.c
--- orig/txe_mutex_info_get.c	2023-11-06 03:51:44.557941100 -0800
+++ modified/txe_mutex_info_get.c	2023-11-06 03:51:44.557941100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_mutex_info_get                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_info_get(TX_MUTEX *mutex_ptr, CHAR **name, ULONG *count, TX_THREAD **owner,
diff -au --ignore-file-name-case orig/txe_mutex_prioritize.c modified/txe_mutex_prioritize.c
--- orig/txe_mutex_prioritize.c	2023-11-06 03:51:44.558944700 -0800
+++ modified/txe_mutex_prioritize.c	2023-11-06 03:51:44.558944700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_mutex_prioritize                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_prioritize(TX_MUTEX *mutex_ptr)
diff -au --ignore-file-name-case orig/txe_mutex_put.c modified/txe_mutex_put.c
--- orig/txe_mutex_put.c	2023-11-06 03:51:44.558944700 -0800
+++ modified/txe_mutex_put.c	2023-11-06 03:51:44.559948300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_mutex_put                                      PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_mutex_put(TX_MUTEX *mutex_ptr)
diff -au --ignore-file-name-case orig/txe_queue_create.c modified/txe_queue_create.c
--- orig/txe_queue_create.c	2023-11-06 03:51:44.559948300 -0800
+++ modified/txe_queue_create.c	2023-11-06 03:51:44.560951900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_create                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -113,10 +113,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_create(TX_QUEUE *queue_ptr, CHAR *name_ptr, UINT message_size, 
diff -au --ignore-file-name-case orig/txe_queue_delete.c modified/txe_queue_delete.c
--- orig/txe_queue_delete.c	2023-11-06 03:51:44.560951900 -0800
+++ modified/txe_queue_delete.c	2023-11-06 03:51:44.560951900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_delete                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_delete(TX_QUEUE *queue_ptr)
diff -au --ignore-file-name-case orig/txe_queue_flush.c modified/txe_queue_flush.c
--- orig/txe_queue_flush.c	2023-11-06 03:51:44.561955500 -0800
+++ modified/txe_queue_flush.c	2023-11-06 03:51:44.561955500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_flush                                    PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -97,10 +97,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_flush(TX_QUEUE *queue_ptr)
diff -au --ignore-file-name-case orig/txe_queue_front_send.c modified/txe_queue_front_send.c
--- orig/txe_queue_front_send.c	2023-11-06 03:51:44.561955500 -0800
+++ modified/txe_queue_front_send.c	2023-11-06 03:51:44.562959100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_front_send                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_front_send(TX_QUEUE *queue_ptr, VOID *source_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_queue_info_get.c modified/txe_queue_info_get.c
--- orig/txe_queue_info_get.c	2023-11-06 03:51:44.562959100 -0800
+++ modified/txe_queue_info_get.c	2023-11-06 03:51:44.562959100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_info_get                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -105,10 +105,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_info_get(TX_QUEUE *queue_ptr, CHAR **name, ULONG *enqueued, ULONG *available_storage,
diff -au --ignore-file-name-case orig/txe_queue_prioritize.c modified/txe_queue_prioritize.c
--- orig/txe_queue_prioritize.c	2023-11-06 03:51:44.563962700 -0800
+++ modified/txe_queue_prioritize.c	2023-11-06 03:51:44.563962700 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_prioritize                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -95,10 +95,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_prioritize(TX_QUEUE *queue_ptr)
diff -au --ignore-file-name-case orig/txe_queue_receive.c modified/txe_queue_receive.c
--- orig/txe_queue_receive.c	2023-11-06 03:51:44.563962700 -0800
+++ modified/txe_queue_receive.c	2023-11-06 03:51:44.564966300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_receive                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -108,10 +108,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_receive(TX_QUEUE *queue_ptr, VOID *destination_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_queue_send.c modified/txe_queue_send.c
--- orig/txe_queue_send.c	2023-11-06 03:51:44.564966300 -0800
+++ modified/txe_queue_send.c	2023-11-06 03:51:44.565969900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_send                                     PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_send(TX_QUEUE *queue_ptr, VOID *source_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_queue_send_notify.c modified/txe_queue_send_notify.c
--- orig/txe_queue_send_notify.c	2023-11-06 03:51:44.565969900 -0800
+++ modified/txe_queue_send_notify.c	2023-11-06 03:51:44.565969900 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_queue_send_notify                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_queue_send_notify(TX_QUEUE *queue_ptr, VOID (*queue_send_notify)(TX_QUEUE *notify_queue_ptr))
diff -au --ignore-file-name-case orig/txe_semaphore_ceiling_put.c modified/txe_semaphore_ceiling_put.c
--- orig/txe_semaphore_ceiling_put.c	2023-11-06 03:51:44.566973500 -0800
+++ modified/txe_semaphore_ceiling_put.c	2023-11-06 03:51:44.566973500 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_ceiling_put                          PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -100,10 +100,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_ceiling_put(TX_SEMAPHORE *semaphore_ptr, ULONG ceiling)
diff -au --ignore-file-name-case orig/txe_semaphore_create.c modified/txe_semaphore_create.c
--- orig/txe_semaphore_create.c	2023-11-06 03:51:44.566973500 -0800
+++ modified/txe_semaphore_create.c	2023-11-06 03:51:44.567977100 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -49,7 +49,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_create                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_create(TX_SEMAPHORE *semaphore_ptr, CHAR *name_ptr, ULONG initial_count, UINT semaphore_control_block_size)
diff -au --ignore-file-name-case orig/txe_semaphore_delete.c modified/txe_semaphore_delete.c
--- orig/txe_semaphore_delete.c	2023-11-06 03:51:44.567977100 -0800
+++ modified/txe_semaphore_delete.c	2023-11-06 03:51:44.568980600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_delete                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_delete(TX_SEMAPHORE *semaphore_ptr)
diff -au --ignore-file-name-case orig/txe_semaphore_get.c modified/txe_semaphore_get.c
--- orig/txe_semaphore_get.c	2023-11-06 03:51:44.568980600 -0800
+++ modified/txe_semaphore_get.c	2023-11-06 03:51:44.568980600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_get                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_get(TX_SEMAPHORE *semaphore_ptr, ULONG wait_option)
diff -au --ignore-file-name-case orig/txe_semaphore_info_get.c modified/txe_semaphore_info_get.c
--- orig/txe_semaphore_info_get.c	2023-11-06 03:51:44.569984200 -0800
+++ modified/txe_semaphore_info_get.c	2023-11-06 03:51:44.569984200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_info_get                             PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -105,10 +105,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_info_get(TX_SEMAPHORE *semaphore_ptr, CHAR **name, ULONG *current_value, 
diff -au --ignore-file-name-case orig/txe_semaphore_prioritize.c modified/txe_semaphore_prioritize.c
--- orig/txe_semaphore_prioritize.c	2023-11-06 03:51:44.569984200 -0800
+++ modified/txe_semaphore_prioritize.c	2023-11-06 03:51:44.570987800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _tx_semaphore_prioritize                            PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_prioritize(TX_SEMAPHORE *semaphore_ptr)
diff -au --ignore-file-name-case orig/txe_semaphore_put.c modified/txe_semaphore_put.c
--- orig/txe_semaphore_put.c	2023-11-06 03:51:44.570987800 -0800
+++ modified/txe_semaphore_put.c	2023-11-06 03:51:44.570987800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_put                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_put(TX_SEMAPHORE *semaphore_ptr)
diff -au --ignore-file-name-case orig/txe_semaphore_put_notify.c modified/txe_semaphore_put_notify.c
--- orig/txe_semaphore_put_notify.c	2023-11-06 03:51:44.571991400 -0800
+++ modified/txe_semaphore_put_notify.c	2023-11-06 03:51:44.571991400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_semaphore_put_notify                           PORTABLE C      */ 
-/*                                                           5.9          */  
+/*                                                           5.7          */  
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -99,10 +99,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_semaphore_put_notify(TX_SEMAPHORE *semaphore_ptr, VOID (*semaphore_put_notify)(TX_SEMAPHORE *notify_semaphore_ptr))
diff -au --ignore-file-name-case orig/txe_thread_delete.c modified/txe_thread_delete.c
--- orig/txe_thread_delete.c	2023-11-06 03:51:44.572995000 -0800
+++ modified/txe_thread_delete.c	2023-11-06 03:51:44.572995000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_delete                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -102,10 +102,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_delete(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/txe_thread_entry_exit_notify.c modified/txe_thread_entry_exit_notify.c
--- orig/txe_thread_entry_exit_notify.c	2023-11-06 03:51:44.572995000 -0800
+++ modified/txe_thread_entry_exit_notify.c	2023-11-06 03:51:44.573998600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_entry_exit_notify                       PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -99,10 +99,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_entry_exit_notify(TX_THREAD *thread_ptr, VOID (*thread_entry_exit_notify)(TX_THREAD *notify_thread_ptr, UINT type))
diff -au --ignore-file-name-case orig/txe_thread_info_get.c modified/txe_thread_info_get.c
--- orig/txe_thread_info_get.c	2023-11-06 03:51:44.573998600 -0800
+++ modified/txe_thread_info_get.c	2023-11-06 03:51:44.573998600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_info_get                                PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -109,10 +109,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_info_get(TX_THREAD *thread_ptr, CHAR **name, UINT *state, ULONG *run_count, 
diff -au --ignore-file-name-case orig/txe_thread_preemption_change.c modified/txe_thread_preemption_change.c
--- orig/txe_thread_preemption_change.c	2023-11-06 03:51:44.575002200 -0800
+++ modified/txe_thread_preemption_change.c	2023-11-06 03:51:44.575002200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_preemption_change                       PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_preemption_change(TX_THREAD *thread_ptr, UINT new_threshold, UINT *old_threshold)
diff -au --ignore-file-name-case orig/txe_thread_priority_change.c modified/txe_thread_priority_change.c
--- orig/txe_thread_priority_change.c	2023-11-06 03:51:44.575002200 -0800
+++ modified/txe_thread_priority_change.c	2023-11-06 03:51:44.576006300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_priority_change                         PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -107,10 +107,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_priority_change(TX_THREAD *thread_ptr, UINT new_priority, UINT *old_priority)
diff -au --ignore-file-name-case orig/txe_thread_relinquish.c modified/txe_thread_relinquish.c
--- orig/txe_thread_relinquish.c	2023-11-06 03:51:44.576006300 -0800
+++ modified/txe_thread_relinquish.c	2023-11-06 03:51:44.576006300 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_relinquish                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -101,10 +101,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 VOID  _txe_thread_relinquish(VOID)
diff -au --ignore-file-name-case orig/txe_thread_reset.c modified/txe_thread_reset.c
--- orig/txe_thread_reset.c	2023-11-06 03:51:44.577009400 -0800
+++ modified/txe_thread_reset.c	2023-11-06 03:51:44.577009400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_reset                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_reset(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/txe_thread_resume.c modified/txe_thread_resume.c
--- orig/txe_thread_resume.c	2023-11-06 03:51:44.578013000 -0800
+++ modified/txe_thread_resume.c	2023-11-06 03:51:44.578013000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_resume                                  PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_resume(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/txe_thread_suspend.c modified/txe_thread_suspend.c
--- orig/txe_thread_suspend.c	2023-11-06 03:51:44.578013000 -0800
+++ modified/txe_thread_suspend.c	2023-11-06 03:51:44.579016600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_suspend                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_suspend(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/txe_thread_terminate.c modified/txe_thread_terminate.c
--- orig/txe_thread_terminate.c	2023-11-06 03:51:44.579016600 -0800
+++ modified/txe_thread_terminate.c	2023-11-06 03:51:44.579016600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_terminate                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_terminate(TX_THREAD *thread_ptr)
diff -au --ignore-file-name-case orig/txe_thread_time_slice_change.c modified/txe_thread_time_slice_change.c
--- orig/txe_thread_time_slice_change.c	2023-11-06 03:51:44.580020200 -0800
+++ modified/txe_thread_time_slice_change.c	2023-11-06 03:51:44.580020200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_time_slice_change                       PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -106,10 +106,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_time_slice_change(TX_THREAD *thread_ptr, ULONG new_time_slice, ULONG *old_time_slice)
diff -au --ignore-file-name-case orig/txe_thread_wait_abort.c modified/txe_thread_wait_abort.c
--- orig/txe_thread_wait_abort.c	2023-11-06 03:51:44.580020200 -0800
+++ modified/txe_thread_wait_abort.c	2023-11-06 03:51:44.581023800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_thread_wait_abort                              PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -96,10 +96,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_thread_wait_abort(TX_THREAD  *thread_ptr)
diff -au --ignore-file-name-case orig/txe_timer_activate.c modified/txe_timer_activate.c
--- orig/txe_timer_activate.c	2023-11-06 03:51:44.581023800 -0800
+++ modified/txe_timer_activate.c	2023-11-06 03:51:44.581023800 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_activate                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -98,10 +98,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_activate(TX_TIMER *timer_ptr)
diff -au --ignore-file-name-case orig/txe_timer_change.c modified/txe_timer_change.c
--- orig/txe_timer_change.c	2023-11-06 03:51:44.582027400 -0800
+++ modified/txe_timer_change.c	2023-11-06 03:51:44.582027400 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_change                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -111,10 +111,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_change(TX_TIMER *timer_ptr, ULONG initial_ticks, ULONG reschedule_ticks)
diff -au --ignore-file-name-case orig/txe_timer_create.c modified/txe_timer_create.c
--- orig/txe_timer_create.c	2023-11-06 03:51:44.583031000 -0800
+++ modified/txe_timer_create.c	2023-11-06 03:51:44.583031000 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -48,7 +48,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_create                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -117,10 +117,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_create(TX_TIMER *timer_ptr, CHAR *name_ptr, 
diff -au --ignore-file-name-case orig/txe_timer_deactivate.c modified/txe_timer_deactivate.c
--- orig/txe_timer_deactivate.c	2023-11-06 03:51:44.583031000 -0800
+++ modified/txe_timer_deactivate.c	2023-11-06 03:51:44.584034600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_deactivate                               PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -97,10 +97,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_deactivate(TX_TIMER *timer_ptr)
diff -au --ignore-file-name-case orig/txe_timer_delete.c modified/txe_timer_delete.c
--- orig/txe_timer_delete.c	2023-11-06 03:51:44.584034600 -0800
+++ modified/txe_timer_delete.c	2023-11-06 03:51:44.584034600 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -47,7 +47,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_delete                                   PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -103,10 +103,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_delete(TX_TIMER *timer_ptr)
diff -au --ignore-file-name-case orig/txe_timer_info_get.c modified/txe_timer_info_get.c
--- orig/txe_timer_info_get.c	2023-11-06 03:51:44.585038200 -0800
+++ modified/txe_timer_info_get.c	2023-11-06 03:51:44.585038200 -0800
@@ -1,6 +1,6 @@
 /**************************************************************************/ 
 /*                                                                        */ 
-/*            Copyright (c) 1996-2019 by Express Logic Inc.               */ 
+/*            Copyright (c) 1996-2015 by Express Logic Inc.               */ 
 /*                                                                        */ 
 /*  This software is copyrighted by and is the sole property of Express   */ 
 /*  Logic, Inc.  All rights, title, ownership, or other interests         */ 
@@ -46,7 +46,7 @@
 /*  FUNCTION                                               RELEASE        */ 
 /*                                                                        */ 
 /*    _txe_timer_info_get                                 PORTABLE C      */ 
-/*                                                           5.9          */ 
+/*                                                           5.7          */ 
 /*  AUTHOR                                                                */ 
 /*                                                                        */ 
 /*    William E. Lamie, Express Logic, Inc.                               */ 
@@ -104,10 +104,6 @@
 /*                                            modified code for MISRA     */ 
 /*                                            compliance, resulting in    */ 
 /*                                            version 5.7                 */ 
-/*  06-01-2017     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.8    */ 
-/*  02-01-2019     William E. Lamie         Modified comment(s),          */ 
-/*                                            resulting in version 5.9    */ 
 /*                                                                        */ 
 /**************************************************************************/ 
 UINT  _txe_timer_info_get(TX_TIMER *timer_ptr, CHAR **name, UINT *active, ULONG *remaining_ticks, 
